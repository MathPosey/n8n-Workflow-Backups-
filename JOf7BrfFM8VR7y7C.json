{
  "active": true,
  "activeVersion": {
    "updatedAt": "2026-02-06T06:27:01.556Z",
    "createdAt": "2026-02-06T06:26:58.173Z",
    "versionId": "39dde7eb-7831-444e-9ebc-7c297f320fa2",
    "workflowId": "JOf7BrfFM8VR7y7C",
    "nodes": [
      {
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4.1-mini"
          },
          "builtInTools": {},
          "options": {
            "maxTokens": 350
          }
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.3,
        "position": [
          288,
          -32
        ],
        "id": "57eab987-ea38-41e7-8c54-858b9daad4f1",
        "name": "OpenAI Chat Model1",
        "credentials": {
          "openAiApi": {
            "id": "FCgioqL0Ukq0AAAo",
            "name": "OpenAi account"
          }
        }
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "={{ $json['Example sentence (English)'] }}\n{{ $json['Meaning (English)'] }}\n{{ $json['Target Phrase (Vietnamese)'] }}\n{{ $json['Tone breakdown (per word)'] }}\n{{ $json['Usage premise (sentence-ready)'] }}\n{{ $json['Example sentence (Vietnamese)'] }}\n\n{{ $json.Language }}\n{{ $json.Category }}\n{{ $json['Phonetic (auto approx)'] }}",
          "hasOutputParser": true,
          "options": {
            "systemMessage": "MANDATORY FORMAT - Fill in exactly this structure:\ncurious-social rap, warm boom-bap, relaxed tempo, open phrasing, city shoutouts encouraged, smooth fade\n\nExamples:\n- beat, energetic, rap, intimate duet, guitar + soft-drums, male-female-sung, mid-tempo\n- hip-hop, upbeat, vulnerable duet, fingerpicked-guitar + strings, alternating-vocals, slow\n- Pop hopeful duet, piano + light-percussion, harmonized-vocals, upbeat\n\nRules:\n- Use hyphens instead of spaces within categories (keeps it compact)\n- One word per category slot\n- Output ONLY the filled template\n- No extra words, no punctuation beyond commas\n\nThis format guarantees ~80-120 characters.",
            "maxIterations": 3
          }
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 3,
        "position": [
          288,
          -192
        ],
        "id": "f861a653-1116-4b13-88ac-034e29ea0a9e",
        "name": "Suno Style",
        "retryOnFail": true
      },
      {
        "parameters": {
          "mode": "combine",
          "combineBy": "combineByPosition",
          "numberInputs": 3,
          "options": {
            "includeUnpaired": false
          }
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          1536,
          -384
        ],
        "id": "a0c5b68e-8327-4e26-9069-a86716f193cb",
        "name": "Merge"
      },
      {
        "parameters": {},
        "type": "n8n-nodes-base.limit",
        "typeVersion": 1,
        "position": [
          -528,
          -416
        ],
        "id": "b818a0af-44e0-49c8-b64e-e044142e660d",
        "name": "Limit2"
      },
      {
        "parameters": {
          "operation": "delete",
          "documentId": {
            "__rl": true,
            "value": "1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y",
            "mode": "list",
            "cachedResultName": "Vietnamese_GoogleSheets_Suno_List",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": 277369955,
            "mode": "list",
            "cachedResultName": "Vietnamese",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit#gid=277369955"
          }
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.6,
        "position": [
          -528,
          48
        ],
        "id": "94c0f71c-909f-4553-8104-4c1eb45b021c",
        "name": "Delete rows or columns from sheet",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "jMg3j3fkols2qHBL",
            "name": "Google Sheets account"
          }
        }
      },
      {
        "parameters": {},
        "type": "n8n-nodes-base.manualTrigger",
        "typeVersion": 1,
        "position": [
          3168,
          496
        ],
        "id": "0024740d-37cd-41d2-8364-ad784088224d",
        "name": "When clicking ‘Execute workflow’"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "d7658768-69d9-45a0-ba9b-c3c08440f8d5",
                "name": "Suno song name",
                "value": "=Viet: {{ $json['Meaning (English)'] }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          864,
          -608
        ],
        "id": "fa46b5a2-7f93-4776-be7c-f829ee44f8b6",
        "name": "edit output to name"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "d7658768-69d9-45a0-ba9b-c3c08440f8d5",
                "name": "Suno Lyrics Output",
                "value": "={{ $json.output }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          880,
          -400
        ],
        "id": "a2f3fa29-fc0a-4de1-83e2-2a745c4cdafd",
        "name": "Edit output to Lyrics"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "97bee6c4-b370-41c6-bdeb-faeeb38988cf",
                "name": "Suno Style Output",
                "value": "={{ $json.output }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          880,
          -192
        ],
        "id": "73f8ac33-124f-4125-92d0-29610a8ad42f",
        "name": "Edit output to Style"
      },
      {
        "parameters": {
          "rules": {
            "values": [
              {
                "conditions": {
                  "options": {
                    "caseSensitive": true,
                    "leftValue": "",
                    "typeValidation": "strict",
                    "version": 3
                  },
                  "conditions": [
                    {
                      "leftValue": "={{ $json.data.status }}",
                      "rightValue": "SUCCESS",
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      },
                      "id": "343cab6d-2440-480d-a740-5519e7e6d430"
                    }
                  ],
                  "combinator": "and"
                },
                "renameOutput": true,
                "outputKey": "success"
              },
              {
                "conditions": {
                  "options": {
                    "caseSensitive": true,
                    "leftValue": "",
                    "typeValidation": "strict",
                    "version": 3
                  },
                  "conditions": [
                    {
                      "id": "b25191b7-6398-414a-b9dc-0317ac27edaa",
                      "leftValue": "={{ $json.data.status }}",
                      "rightValue": "(ING|_SUCCESS)",
                      "operator": {
                        "type": "string",
                        "operation": "regex"
                      }
                    }
                  ],
                  "combinator": "and"
                },
                "renameOutput": true,
                "outputKey": "in progress"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.switch",
        "typeVersion": 3.4,
        "position": [
          3312,
          -384
        ],
        "id": "4accb8e6-b044-44eb-87e5-7c31d28d9cd9",
        "name": "Switch"
      },
      {
        "parameters": {
          "content": "## Trigger the google sheet document to begin prompting the system . ",
          "height": 96,
          "width": 502,
          "color": 5
        },
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          -800,
          -560
        ],
        "id": "f4ed62f1-901b-4ca9-a84a-8cb1c27ee2bd",
        "name": "Sticky Note"
      },
      {
        "parameters": {
          "content": "## AI generates the name, lyrics and style. This is where I can improve quality of songs. Also possibly make it all one agent..\n**Double click** to edit me. [Guide](https://docs.n8n.io/workflows/components/sticky-notes/). Makeitmor conversational? use mor sentances, havea dialog, us he phrase in a sntance. ",
          "height": 80,
          "width": 1344
        },
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          -256,
          -928
        ],
        "id": "ffc2dff0-6263-4df9-b2ed-b38b73d226aa",
        "name": "Sticky Note1"
      },
      {
        "parameters": {
          "content": "## Kie Ai should cost only $0.06 cents to generate a song. The songs url are then gathered and logged.\n**Double click** to edit me. [Guide](https://docs.n8n.io/workflows/components/sticky-notes/)",
          "height": 400,
          "width": 1568,
          "color": 3
        },
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          1504,
          -848
        ],
        "id": "81b54a6b-09f3-4615-8fe3-4b58d153b04e",
        "name": "Sticky Note2"
      },
      {
        "parameters": {
          "operation": "append",
          "documentId": {
            "__rl": true,
            "value": "1b1Kd5-aoTuGenIvR4SC7gg96gKT02OFTJGvEmqsHBUI",
            "mode": "list",
            "cachedResultName": "log songs",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1b1Kd5-aoTuGenIvR4SC7gg96gKT02OFTJGvEmqsHBUI/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": "gid=0",
            "mode": "list",
            "cachedResultName": "Sheet1",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1b1Kd5-aoTuGenIvR4SC7gg96gKT02OFTJGvEmqsHBUI/edit#gid=0"
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "title": "={{ $json.data.response.sunoData[0].title }}",
              "duration": "={{ $json.data.response.sunoData[0].duration }}",
              "song_url": "={{ $json.data.response.sunoData[0].audioUrl }}{{ $json.data.response.videoUrl }}",
              "theme": "={{ $('Vietnamese Google sheet').item.json.Category }}"
            },
            "matchingColumns": [],
            "schema": [
              {
                "id": "theme",
                "displayName": "theme",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "title",
                "displayName": "title",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "duration",
                "displayName": "duration",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "song_url",
                "displayName": "song_url",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          4384,
          -400
        ],
        "id": "f1d9aefb-7937-4adf-bc70-8f052cd1199a",
        "name": "Log Songs",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "jMg3j3fkols2qHBL",
            "name": "Google Sheets account"
          }
        }
      },
      {
        "parameters": {
          "content": "## Quick notes summary (save this)\n\nHow to turn a URL into a binary file in n8n (MP3 / MP4):\n\nCreate a NEW HTTP Request node (do not reuse the generation node).\n\nSet:\n\nMethod: GET\n\nURL: {{$json.data.response.sunoData[0].audioUrl}} (or videoUrl for MP4)\n\nSend Body: OFF\n\nScroll to Options → Add option:\n\nResponse Format: File\n\nBinary Property Name: data\n\nExecute → check OUTPUT → Binary → data.\n\n(Optional) Use Write Binary File to save locally or pass to another node.\n\nKey rule: Never use “Send Body” or “n8n Binary File” when downloading.\nThose are for uploads.",
          "height": 768,
          "width": 560,
          "color": 3
        },
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          3456,
          -1344
        ],
        "id": "4f82ac94-cd21-42a8-9600-e46fc28e981c",
        "name": "Sticky Note3"
      },
      {
        "parameters": {
          "resource": "video",
          "operation": "upload",
          "title": "={{ $('edit output to name').item.json['Suno song name'] }}",
          "regionCode": "US",
          "categoryId": "27",
          "binaryProperty": "=data",
          "options": {
            "description": "Growing up I struggled to learn, which drove me to take academics very seriously. So I always need to come up with creative ways to stick to my education. With the advancement of AI, and a trip to Vietnam coming up soon. So I created a system to produce phrases to help my education, but I know Vietnames is more than just phrases. So I want to get in contact with a fluent speaker and ensure the tones are right, I feel like the songs kind of go all over the place, so I need to ensure the pronounciations are authentic.  Also as bonus, It would be amazing if my songs go viral and help others who strugle to learn. I think the best way to unite the world is through language. There needs to be more positive comunication in the world. An if that happend before my trip to Vietnam. That would be funny. Honestly I am thinking about pranking my friends, and buying billboards or advertisement for my music in Vietnam, I think that would be so funny. I need to make sure others are enjoying the music as much as I am first. As well as ensuring the phrases and tones are accurate as well.",
            "privacyStatus": "public"
          }
        },
        "name": "YouTube",
        "type": "n8n-nodes-base.youTube",
        "position": [
          5392,
          -16
        ],
        "typeVersion": 1,
        "id": "577462d3-d874-422d-9494-71d219c2b3a8",
        "retryOnFail": true,
        "credentials": {
          "youTubeOAuth2Api": {
            "id": "McQ9Hyczvsg3SnQ9",
            "name": "YouTube account"
          }
        }
      },
      {
        "parameters": {
          "content": "## Video creation automation. Need to update youtube credential\n**Double click** to edit me. [Guide](https://docs.n8n.io/workflows/components/sticky-notes",
          "height": 96,
          "width": 1360
        },
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          3728,
          -240
        ],
        "id": "dfc553d5-fc04-4bf2-afac-f1bdbb103dc5",
        "name": "Sticky Note4"
      },
      {
        "parameters": {
          "content": "## Creates both a Suno AI music audio and video file. \n\nPublishes to youtube. It should also document all the files so I can make one big music video manually. \n\n-Need to remove limit so the whole thing can begin making songs in large batches. Currently 2 limites...\n-Manual creation of quality video.\n-Updated video prompts to create better outputs.\n-Ai Agents should be consolodated to a single agent, possibly with some kind of data parsing tool that seporates the outputs...\n-The first google sheet is a batch of language translation lessons, so I would need to create either new phrases or include more languages. ",
          "height": 800,
          "width": 304
        },
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          -1456,
          -752
        ],
        "id": "c68037d8-8fe8-47d6-92ec-64d5518fda85",
        "name": "Sticky Note5"
      },
      {
        "parameters": {
          "amount": 30
        },
        "type": "n8n-nodes-base.wait",
        "typeVersion": 1.1,
        "position": [
          2832,
          -384
        ],
        "id": "417c2181-6e8b-48c4-90b8-5d08d01f1979",
        "name": "Wait",
        "webhookId": "b8e0debc-c05d-4baa-84bf-3343f4f1130a"
      },
      {
        "parameters": {
          "amount": 30
        },
        "type": "n8n-nodes-base.wait",
        "typeVersion": 1.1,
        "position": [
          3952,
          -80
        ],
        "id": "35ef35ad-148f-40bf-b848-7eb9ea0cf9a1",
        "name": "Wait1",
        "webhookId": "ffec5001-88a9-4921-9eb9-a241923fe7f4"
      },
      {
        "parameters": {
          "rule": {
            "interval": [
              {
                "triggerAtHour": 7
              }
            ]
          }
        },
        "type": "n8n-nodes-base.scheduleTrigger",
        "typeVersion": 1.3,
        "position": [
          -1056,
          -640
        ],
        "id": "68752e4e-3ad7-4e3e-87a0-b919c10f22bf",
        "name": "Schedule Trigger"
      },
      {
        "parameters": {
          "documentId": {
            "__rl": true,
            "value": "1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y",
            "mode": "list",
            "cachedResultName": "Vietnamese_GoogleSheets_Suno_List",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": 277369955,
            "mode": "list",
            "cachedResultName": "Vietnamese",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit#gid=277369955"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          -784,
          -464
        ],
        "id": "4213c442-aff7-4ddc-be2a-8ba904b67d61",
        "name": "Vietnamese Google sheet",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "jMg3j3fkols2qHBL",
            "name": "Google Sheets account"
          }
        }
      },
      {
        "parameters": {
          "operation": "append",
          "documentId": {
            "__rl": true,
            "value": "1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y",
            "mode": "list",
            "cachedResultName": "Vietnamese_GoogleSheets_Suno_List",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": 277369955,
            "mode": "list",
            "cachedResultName": "Vietnamese",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit#gid=277369955"
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "Language": "={{ $('Vietnamese Google sheet').item.json.Language }}",
              "Category": "={{ $('Vietnamese Google sheet').item.json.Category }}",
              "Meaning (English)": "={{ $('Vietnamese Google sheet').item.json['Meaning (English)'] }}",
              "Target Phrase (Vietnamese)": "={{ $('Vietnamese Google sheet').item.json['Target Phrase (Vietnamese)'] }}",
              "Phonetic (auto approx)": "={{ $('Vietnamese Google sheet').item.json['Phonetic (auto approx)'] }}",
              "Tone breakdown (per word)": "={{ $('Vietnamese Google sheet').item.json['Tone breakdown (per word)'] }}",
              "Usage premise (sentence-ready)": "={{ $('Vietnamese Google sheet').item.json['Usage premise (sentence-ready)'] }}",
              "Example sentence (Vietnamese)": "={{ $('Vietnamese Google sheet').item.json['Example sentence (Vietnamese)'] }}",
              "Example sentence (English)": "={{ $('Vietnamese Google sheet').item.json['Example sentence (English)'] }}",
              "Song hook idea": "={{ $('Vietnamese Google sheet').item.json['Song hook idea'] }}",
              "Genera ": "={{ $json['Genera '] }}"
            },
            "matchingColumns": [
              "Usage premise (sentence-ready)"
            ],
            "schema": [
              {
                "id": "Language",
                "displayName": "Language",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "Category",
                "displayName": "Category",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "Meaning (English)",
                "displayName": "Meaning (English)",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "Target Phrase (Vietnamese)",
                "displayName": "Target Phrase (Vietnamese)",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "Phonetic (auto approx)",
                "displayName": "Phonetic (auto approx)",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "Tone breakdown (per word)",
                "displayName": "Tone breakdown (per word)",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "Usage premise (sentence-ready)",
                "displayName": "Usage premise (sentence-ready)",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "Example sentence (Vietnamese)",
                "displayName": "Example sentence (Vietnamese)",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "Example sentence (English)",
                "displayName": "Example sentence (English)",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "Song hook idea",
                "displayName": "Song hook idea",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "Genera ",
                "displayName": "Genera ",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.6,
        "position": [
          -528,
          -176
        ],
        "id": "8895b961-40fd-46c0-9947-8afbfdb6e7d6",
        "name": "Append row in sheet1",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "jMg3j3fkols2qHBL",
            "name": "Google Sheets account"
          }
        }
      },
      {
        "parameters": {
          "operation": "append",
          "documentId": {
            "__rl": true,
            "value": "1L2dcSLXcOm8M1Vu70IaMHgU1F4qVUSbtxiUud-ndUcE",
            "mode": "list",
            "cachedResultName": "SUNO AI Automstion",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1L2dcSLXcOm8M1Vu70IaMHgU1F4qVUSbtxiUud-ndUcE/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": "gid=0",
            "mode": "list",
            "cachedResultName": "Sheet1",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1L2dcSLXcOm8M1Vu70IaMHgU1F4qVUSbtxiUud-ndUcE/edit#gid=0"
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "Style (1000 Words)": "={{ $json['Suno Style Output'] }}",
              "Lyrics (100-120 Words)": "={{ $json['Suno Lyrics Output'] }}",
              "Name": "={{ $json['Suno song name'] }}"
            },
            "matchingColumns": [],
            "schema": [
              {
                "id": "Name",
                "displayName": "Name",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "Lyrics (100-120 Words)",
                "displayName": "Lyrics (100-120 Words)",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "Style (1000 Words)",
                "displayName": "Style (1000 Words)",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          1616,
          -128
        ],
        "id": "982553d8-e173-4b03-88ee-5028720f4d3e",
        "name": "Append row in SUNOAIAutomation",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "jMg3j3fkols2qHBL",
            "name": "Google Sheets account"
          }
        }
      },
      {
        "parameters": {
          "method": "POST",
          "url": "https://api.kie.ai/api/v1/generate",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "Authorization",
                "value": "Bearer 8a09ed7a3b4bc127bcc818f93bea5783"
              }
            ]
          },
          "sendBody": true,
          "bodyParameters": {
            "parameters": [
              {
                "name": "prompt",
                "value": "={{ $json['Suno Lyrics Output'] }}"
              },
              {
                "name": "customMode",
                "value": "true"
              },
              {
                "name": "instrumental",
                "value": "false"
              },
              {
                "name": "model",
                "value": "V4"
              },
              {
                "name": "callBackUrl",
                "value": "https://api.example.com/callback"
              },
              {
                "name": "style",
                "value": "={{ $json['Suno Style Output'] }}"
              },
              {
                "name": "title",
                "value": "={{ $json['Suno song name'] }}"
              },
              {
                "name": "negativeTags",
                "value": "Heavy Metal, Upbeat Drums"
              },
              {
                "name": "vocalGender",
                "value": "m"
              },
              {
                "name": "styleWeight",
                "value": "0.65"
              },
              {
                "name": "weirdnessConstraint",
                "value": "0.65"
              },
              {
                "name": "audioWeight",
                "value": "0.65"
              },
              {
                "name": "personaId",
                "value": "persona_123"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.2,
        "position": [
          2448,
          -384
        ],
        "id": "427640bd-c6b0-45fa-a3f7-ecb1c12cd966",
        "name": "Post Kie ai - Suno - Text to Music",
        "credentials": {
          "httpHeaderAuth": {
            "id": "qrSLdQAxyISpv7xA",
            "name": "Kie ai -> sora 2 ai"
          }
        }
      },
      {
        "parameters": {
          "url": "https://api.kie.ai/api/v1/generate/record-info",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "sendQuery": true,
          "queryParameters": {
            "parameters": [
              {
                "name": "taskId",
                "value": "={{ $json.data.taskId }}"
              }
            ]
          },
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "Authorization",
                "value": "Bearer 8a09ed7a3b4bc127bcc818f93bea5783"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.2,
        "position": [
          3072,
          -384
        ],
        "id": "7f2ad40f-5619-4ac2-9dd3-0ca065e5205e",
        "name": "Get Kie ai - Suno - Text to Music",
        "credentials": {
          "httpHeaderAuth": {
            "id": "qrSLdQAxyISpv7xA",
            "name": "Kie ai -> sora 2 ai"
          }
        }
      },
      {
        "parameters": {
          "name": "=",
          "driveId": {
            "__rl": true,
            "mode": "list",
            "value": "My Drive"
          },
          "folderId": {
            "__rl": true,
            "value": "1eOD5RXpFlVqrNYxNWrKFLaymTgFcMz7t",
            "mode": "list",
            "cachedResultName": "SUNO Music AI",
            "cachedResultUrl": "https://drive.google.com/drive/folders/1eOD5RXpFlVqrNYxNWrKFLaymTgFcMz7t"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleDrive",
        "typeVersion": 3,
        "position": [
          4112,
          -768
        ],
        "id": "1505f8fd-1efa-48e9-b3fa-e9a292f487b3",
        "name": "Upload Music Audio -> SUNO Music AI",
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "WM6RaS4XN5sMHcjI",
            "name": "Google Drive account"
          }
        }
      },
      {
        "parameters": {
          "method": "POST",
          "url": "https://api.kie.ai/api/v1/mp4/generate",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "Authorization",
                "value": "Bearer 8a09ed7a3b4bc127bcc818f93bea5783"
              }
            ]
          },
          "sendBody": true,
          "bodyParameters": {
            "parameters": [
              {
                "name": "taskId",
                "value": "={{ $json.data.taskId }}"
              },
              {
                "name": "audioId",
                "value": "={{ $json.data.response.sunoData[0].id }}"
              },
              {
                "name": "callBackUrl",
                "value": "https://api.example.com/callback"
              },
              {
                "name": "author",
                "value": "MJP"
              },
              {
                "name": "domainName",
                "value": "Suno AI"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          3744,
          -80
        ],
        "id": "65baeb0f-3b8b-46c0-a7d3-05be8a124bac",
        "name": "Post KieAi music Video",
        "credentials": {
          "httpHeaderAuth": {
            "id": "qrSLdQAxyISpv7xA",
            "name": "Kie ai -> sora 2 ai"
          }
        }
      },
      {
        "parameters": {
          "url": "https://api.kie.ai/api/v1/mp4/record-info",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "sendQuery": true,
          "queryParameters": {
            "parameters": [
              {
                "name": "taskId",
                "value": "={{ $json.data.taskId }}"
              }
            ]
          },
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "Authorization",
                "value": "Bearer 8a09ed7a3b4bc127bcc818f93bea5783"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          4144,
          -80
        ],
        "id": "b501a87d-2e8a-4a4e-b94f-e9b4ae0de67d",
        "name": "Get KieAi music Video",
        "credentials": {
          "httpHeaderAuth": {
            "id": "qrSLdQAxyISpv7xA",
            "name": "Kie ai -> sora 2 ai"
          }
        }
      },
      {
        "parameters": {
          "url": "={{ $json.data.response.videoUrl }}",
          "options": {
            "response": {
              "response": {
                "responseFormat": "file"
              }
            }
          }
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          4848,
          256
        ],
        "id": "3e45ac57-0285-42ec-8712-234e7754dce9",
        "name": "Get Video File data"
      },
      {
        "parameters": {
          "url": "={{ $json.data.response.sunoData[0].audioUrl }}",
          "options": {
            "response": {
              "response": {
                "responseFormat": "file"
              }
            }
          }
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          3680,
          -768
        ],
        "id": "d40398db-0ec7-42c1-a2df-359b84aaf5ad",
        "name": "Get Audio File"
      },
      {
        "parameters": {
          "rules": {
            "values": [
              {
                "conditions": {
                  "options": {
                    "caseSensitive": true,
                    "leftValue": "",
                    "typeValidation": "strict",
                    "version": 3
                  },
                  "conditions": [
                    {
                      "leftValue": "={{ $json.data.successFlag }}",
                      "rightValue": "SUCCESS",
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      },
                      "id": "343cab6d-2440-480d-a740-5519e7e6d430"
                    }
                  ],
                  "combinator": "and"
                },
                "renameOutput": true,
                "outputKey": "success"
              },
              {
                "conditions": {
                  "options": {
                    "caseSensitive": true,
                    "leftValue": "",
                    "typeValidation": "strict",
                    "version": 3
                  },
                  "conditions": [
                    {
                      "id": "b25191b7-6398-414a-b9dc-0317ac27edaa",
                      "leftValue": "={{ $json.data.successFlag }}",
                      "rightValue": "(ING|_SUCCESS)",
                      "operator": {
                        "type": "string",
                        "operation": "regex"
                      }
                    }
                  ],
                  "combinator": "and"
                },
                "renameOutput": true,
                "outputKey": "in progress"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.switch",
        "typeVersion": 3.4,
        "position": [
          4368,
          -80
        ],
        "id": "dce189e3-0954-4573-8ca7-15828e61f121",
        "name": "Switch1"
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4.1-mini"
          },
          "builtInTools": {},
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.3,
        "position": [
          688,
          832
        ],
        "id": "57799121-2d1b-4758-bc75-fded247c70ec",
        "name": "OpenAI Chat Model2",
        "credentials": {
          "openAiApi": {
            "id": "FCgioqL0Ukq0AAAo",
            "name": "OpenAi account"
          }
        }
      },
      {
        "parameters": {
          "description": "=Use the tool to think about something. It will not obtain new information or change the database, but just append the thought to the log. Use it when complex reasoning or some cache memory is needed."
        },
        "type": "@n8n/n8n-nodes-langchain.toolThink",
        "typeVersion": 1.1,
        "position": [
          832,
          832
        ],
        "id": "9e496dfa-eed4-4806-b0ce-fe3a674087a2",
        "name": "Think2"
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "={{ $json.Language }}{{ $json.Category }}{{ $json['Meaning (English)'] }}{{ $json['Target Phrase (Vietnamese)'] }}{{ $json['Phonetic (auto approx)'] }}{{ $json['Tone breakdown (per word)'] }}{{ $json['Usage premise (sentence-ready)'] }}{{ $json['Example sentence (Vietnamese)'] }}{{ $json['Example sentence (English)'] }}{{ $json['Song hook idea'] }}{{ $json.Genera }}",
          "hasOutputParser": true,
          "options": {
            "systemMessage": "=Primary job: Write only lyrics that teach 1 target word/phrase from a specific language and show how to use it in a sentence, formatted for Suno using bracketed section tags.\n\nInputs it requires\n\nLanguage (e.g., Spanish)\n\nTarget word/phrase (e.g., “¿Cómo estás?”)\n\nEnglish meaning (e.g., “How are you?”)\n\nExample sentence in target language + English translation (or permission to generate)\n\nAudience level (kids/adults, beginner/intermediate)\n\nOptional: tone (funny, heartfelt, hype), rhyme preference, song length\n\nOutputs it must produce\n\nLyrics with clear Suno structure tags placed at the start of each section:\n\nRequired tags: [Intro] [Verse] [Chorus] [Bridge] [Outro] (use what fits)\n\nTeaching content baked into the lyrics, in this order:\n\nIntroduce the word/phrase\n\nGive the English meaning\n\nRepeat for memory (hook)\n\nUse it in a sentence (target language)\n\nTranslate the sentence (English)\n\nShort “how/when to use it” note inside lyrics (simple)\n\nOptional advanced meta tags (only if you want control):\n\nExamples: [Tempo: Mid] [Mood: Playful] [Vocalist: Female] [Key: C minor]\n\nRule: keep these minimal and consistent; don’t overload.\n\nHard rules\n\nMust include section tags in brackets for structure.\n\nMust not write the “Style Prompt Field” content (that’s the other agent’s job).\n\nMust not use vague placeholders like “(add chorus here)”.\n\nLyric template (what it should aim to output)\n\n[Intro] quick tease of the phrase\n\n[Verse] meaning + context\n\n[Chorus] repetition + catchy mnemonic\n\n[Verse 2] sentence example + translation\n\n[Bridge] small usage tip / variation\n\n[Outro] final repetition"
          }
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 3,
        "position": [
          736,
          608
        ],
        "id": "217d62c2-fe17-4efd-b3ab-3ba38e5f84ea",
        "name": "Suno Lyrics1"
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "={{ $json['Lyrics (100-120 Words)'] }}",
          "hasOutputParser": true,
          "options": {
            "systemMessage": "=## AI Agent Role: Language-Lyric Quality Auditor (Critical)\n\nYou are a **strict bilingual language expert + songwriting editor**. Your job is to review song lyrics generated by another AI that are intended to teach **one specific target phrase and a breakdown of that one target phrase** in a chosen language. You must be detail oriented, precise, and willing to reject weak outputs.\n\n### Core Objective\n\nEnsure the lyrics:\n\n1. **Uses the one obvious target phrase and its direct break down of the phrase into indavisdual words, with no additional vietnamese characters or changes that are not directly found in the target phrase** \n\n2. Use **accurate translation + natural pronunciation guidance** (no misleading phonetics).\n3. Sound like a **real song** a human would write (clear flow, not robotic, even make comparisons to other songs).\n4. Avoid **AI-generated filler** and unnecessary extra foreign-language content.\n\n### Hard Rules (Fail Conditions)\n\nFlag as **FAIL** if any of the following occur:\n\n* The lyrics teach **multiple phrases that are not directly related to the target phrase**, multiple lesson goals, or drift into extra vocabulary.\n* The song contains **AI filler or cringe coaching** like:\n\n  * “say it smooth / say it right / so strong / like a native / it means”\n  * “this is how you say ___” in either language\n  * meta narration that breaks immersion (“Now repeat after me…” unless specifically flows naturally in the song some how)\n* The target language includes **extra sentences** not required to teach the target phrase.\n* The English and target language at the bridge should be a vietnamese word followed by what that word is in english, its one of the most important lines in every song.\n\n\n### Pass Criteria (What “Good” Looks Like)\n\n* The target phrase is presented early, repeated else where in the song, and reinforced naturally in context.\n* Any pronunciation help is brief, consistent, and does not dominate the song.\n* English support shouldn't be cheesy, we want cool songs, bangers, something that people will want to sing along to, even if it needs to break some rules to sound cool... is minimal and purposeful (never verbose).\n* The lyric reads like a real song with a coherent mood and cadence.\n\n\nYOU HAVE AN EMAIL TOOL, SEND OUTPUT TO THE EMAIL PROVIDED.\n"
          }
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 3,
        "position": [
          1552,
          96
        ],
        "id": "6cad7ee6-9a33-4008-b6e4-5195b5923dda",
        "name": "Suno Lyrics2"
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4.1-mini"
          },
          "builtInTools": {},
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.3,
        "position": [
          1392,
          208
        ],
        "id": "091cfc41-c1fa-4b83-891f-e4c7e421c3c9",
        "name": "OpenAI Chat Model3",
        "credentials": {
          "openAiApi": {
            "id": "FCgioqL0Ukq0AAAo",
            "name": "OpenAi account"
          }
        }
      },
      {
        "parameters": {
          "fromEmail": "Mattjposey@gmail.com",
          "toEmail": "Mattjposey@gmail.com",
          "subject": "=Report about : {{ $('Merge').item.json['Suno song name'] }}",
          "emailFormat": "text",
          "text": "={{ $json.output }}",
          "options": {}
        },
        "type": "n8n-nodes-base.emailSend",
        "typeVersion": 2.1,
        "position": [
          1632,
          320
        ],
        "id": "c08e42e9-ed4e-43f1-9352-d86907502287",
        "name": "Send email",
        "webhookId": "d8863888-4db2-4811-8ea6-bf0d7446619b",
        "credentials": {
          "smtp": {
            "id": "LpnGUQ4PDgiMVycW",
            "name": "SMTP account"
          }
        }
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "value": "gpt-4.1-mini",
            "mode": "list",
            "cachedResultName": "gpt-4.1-mini"
          },
          "responsesApiEnabled": false,
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.3,
        "position": [
          272,
          -272
        ],
        "id": "06fb56b0-205b-4e7c-a293-088e389be3d2",
        "name": "OpenAI Chat Model5",
        "credentials": {
          "openAiApi": {
            "id": "FCgioqL0Ukq0AAAo",
            "name": "OpenAi account"
          }
        }
      },
      {
        "parameters": {
          "name": "={{ $json.desiredFileName }}",
          "driveId": {
            "__rl": true,
            "mode": "list",
            "value": "My Drive"
          },
          "folderId": {
            "__rl": true,
            "mode": "list",
            "value": "root",
            "cachedResultName": "/ (Root folder)"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleDrive",
        "typeVersion": 3,
        "position": [
          5392,
          256
        ],
        "id": "849c6266-423f-42d6-93fc-9e26643bbc9c",
        "name": "Upload file",
        "credentials": {
          "googleDriveOAuth2Api": {
            "id": "WM6RaS4XN5sMHcjI",
            "name": "Google Drive account"
          }
        }
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "4429ead4-a147-4cdc-ad23-58437b9a510b",
                "name": "=desiredFileName",
                "value": "={{ ($json[\"Suno song name\"] || \"Untitled\") + \" - \" + String($json.data.musicIndex ?? 0).padStart(2,\"0\") + \".mp4\" }}\n\n",
                "type": "string"
              }
            ]
          },
          "includeOtherFields": true,
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          5184,
          256
        ],
        "id": "aa9c2889-d9be-4abe-8aec-bbcd528abdb9",
        "name": "Edit Fields"
      },
      {
        "parameters": {
          "mode": "combine",
          "combineBy": "combineByPosition",
          "options": {}
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          4624,
          256
        ],
        "id": "e083edf7-47ad-4794-a2a7-c34bb82d2cbd",
        "name": "Merge2"
      },
      {
        "parameters": {
          "fieldToSplitOut": "data.response.sunoData",
          "include": "allOtherFields",
          "options": {}
        },
        "type": "n8n-nodes-base.splitOut",
        "typeVersion": 1,
        "position": [
          3728,
          -400
        ],
        "id": "637c161b-b03e-4fd2-a62e-2d71ad33378d",
        "name": "Split Out"
      },
      {
        "parameters": {
          "operation": "append",
          "documentId": {
            "__rl": true,
            "value": "1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM",
            "mode": "list",
            "cachedResultName": "Producer Decision Document",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": 190493127,
            "mode": "list",
            "cachedResultName": "Song Selection",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit#gid=190493127"
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "taskId": "={{ $json.taskId }}",
              "title": "={{ $json.title }}",
              "variant": "={{ $json.varient }}",
              "audioUrl": "={{ $json.audioUrl }}",
              "songId": "={{ $json.songId }}",
              "status": "pending"
            },
            "matchingColumns": [],
            "schema": [
              {
                "id": "taskId",
                "displayName": "taskId",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "variant",
                "displayName": "variant",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "title",
                "displayName": "title",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "songId",
                "displayName": "songId",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "audioUrl",
                "displayName": "audioUrl",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "status",
                "displayName": "status",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "decision",
                "displayName": "decision",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "notes",
                "displayName": "notes",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          4128,
          -400
        ],
        "id": "1570631c-fc2d-4ac6-8e84-3a0ff68bbc24",
        "name": "Append row in sheet",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "jMg3j3fkols2qHBL",
            "name": "Google Sheets account"
          }
        }
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "aa7d43ec-9ae0-442c-925d-34fbedebea08",
                "name": "taskId",
                "value": "={{ $json.data.taskId }}",
                "type": "string"
              },
              {
                "id": "d973e9fb-c512-4947-84ba-1b2339a0ed4b",
                "name": "varient",
                "value": "={{ $itemIndex === 0 ? 'A' : 'B' }}",
                "type": "string"
              },
              {
                "id": "47c92b1f-3ca0-423d-bd60-db362432b7a3",
                "name": "songId",
                "value": "={{ $json['data.response.sunoData'].id }}",
                "type": "string"
              },
              {
                "id": "a32b010f-5c97-4415-b828-99436c3a1085",
                "name": "audioUrl",
                "value": "={{ $json['data.response.sunoData'].audioUrl }}",
                "type": "string"
              },
              {
                "id": "91462171-eab5-48a0-8176-92f24a49f7da",
                "name": "title",
                "value": "={{ $json['data.response.sunoData'].title }}",
                "type": "string"
              },
              {
                "id": "67f10d29-ab63-4cfa-8487-5509a4e60683",
                "name": "status",
                "value": "pending",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          3936,
          -400
        ],
        "id": "6ad021af-4be5-400a-a990-0499185be7a3",
        "name": "Edit Fields1"
      },
      {
        "parameters": {
          "pollTimes": {
            "item": [
              {
                "mode": "everyMinute"
              }
            ]
          },
          "documentId": {
            "__rl": true,
            "value": "1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM",
            "mode": "list",
            "cachedResultName": "Producer Decision Document",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": 190493127,
            "mode": "list",
            "cachedResultName": "Song Selection",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit#gid=190493127"
          },
          "event": "rowUpdate",
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheetsTrigger",
        "typeVersion": 1,
        "position": [
          976,
          992
        ],
        "id": "ddb4b01a-61ec-4431-9560-156e4b2a5f88",
        "name": "Google Sheets Trigger",
        "credentials": {
          "googleSheetsTriggerOAuth2Api": {
            "id": "H3XHJ0UGRGy338ka",
            "name": "Google Sheets Trigger account 2"
          }
        },
        "disabled": true
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 3
            },
            "conditions": [
              {
                "id": "bc8e660c-dc9e-4c6f-af95-9acda3008c37",
                "leftValue": "={{ String($json.variant || '').trim().toUpperCase() }}\n",
                "rightValue": "={{ String($json.decision || '').trim().toUpperCase() }}\n",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              },
              {
                "id": "ac94dd3b-b510-4f6b-8908-2fe7a3565afc",
                "leftValue": "={{ $json.decision }}",
                "rightValue": "",
                "operator": {
                  "type": "string",
                  "operation": "notEmpty",
                  "singleValue": true
                }
              },
              {
                "id": "37aa1a66-01b1-4939-8ed3-606d7d225a39",
                "leftValue": "={{ $json.status }}",
                "rightValue": "pending",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.3,
        "position": [
          1232,
          1008
        ],
        "id": "7bdc0bb1-e3cc-4070-abfa-d3106b39749a",
        "name": "If",
        "disabled": true
      },
      {
        "parameters": {
          "operation": "update",
          "documentId": {
            "__rl": true,
            "value": "1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM",
            "mode": "list",
            "cachedResultName": "Producer Decision Document",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": 190493127,
            "mode": "list",
            "cachedResultName": "Song Selection",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit#gid=190493127"
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "status": "approved",
              "taskId": "=",
              "songId": "={{ $('Google Sheets Trigger').item.json.songId }}"
            },
            "matchingColumns": [
              "songId"
            ],
            "schema": [
              {
                "id": "taskId",
                "displayName": "taskId",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "variant",
                "displayName": "variant",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "title",
                "displayName": "title",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "songId",
                "displayName": "songId",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "audioUrl",
                "displayName": "audioUrl",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "status",
                "displayName": "status",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "decision",
                "displayName": "decision",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "notes",
                "displayName": "notes",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "row_number",
                "displayName": "row_number",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "number",
                "canBeUsedToMatch": true,
                "readOnly": true,
                "removed": true
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.7,
        "position": [
          1744,
          976
        ],
        "id": "1f1d7047-82e5-42c3-8ef1-0a11fe85af69",
        "name": "Update row in sheet",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "jMg3j3fkols2qHBL",
            "name": "Google Sheets account"
          }
        },
        "disabled": true
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "value": "gpt-5-mini",
            "mode": "list",
            "cachedResultName": "gpt-5-mini"
          },
          "builtInTools": {},
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.3,
        "position": [
          -320,
          1296
        ],
        "id": "8d319d85-f2d2-45af-899a-b1d8a0a9f4ec",
        "name": "OpenAI Chat Model8",
        "credentials": {
          "openAiApi": {
            "id": "FCgioqL0Ukq0AAAo",
            "name": "OpenAi account"
          }
        }
      },
      {
        "parameters": {
          "description": "=Use the tool to think about something. It will not obtain new information or change the database, but just append the thought to the log. Use it when complex reasoning or some cache memory is needed."
        },
        "type": "@n8n/n8n-nodes-langchain.toolThink",
        "typeVersion": 1.1,
        "position": [
          -192,
          1232
        ],
        "id": "0a885e7b-775c-44f5-b171-c6ed4ca56be9",
        "name": "Think5"
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "=Target phrase:\n{{ $json['Meaning (English)'] }}\nSong hook suggestion:\n{{ $json['Song hook idea'] }}\nGenera of music:\n{{ $json.Genera }}",
          "hasOutputParser": true,
          "options": {
            "systemMessage": "=You are a pop songwriter. Your job is to write a complete, catchy,\nradio-ready English song that sounds like a real human wrote it.\n\nThis song is ALWAYS written as a duet.\n\nABSOLUTE OUTPUT RULE\n- Output ONLY the song lyrics in plain text.\n- Do NOT include explanations, notes, summaries, or commentary.\n- Do NOT ask questions.\n\nCHARACTERS (IMPLICIT, NOT LABELED)\n- Voice A: a traveler (outsider, curious, slightly unsure)\n- Voice B: a local (confident, grounded, aware of what’s at stake)\n\nDo NOT label speakers explicitly.\n\nSTRUCTURE (use these tags exactly)\n[Intro]\n[Verse 1]\n[Chorus]\n[Verse 2]\n[Chorus]\n[Bridge]\n[Final Chorus]\n[Outro]\n\nCORE SONG ARC (NON-NEGOTIABLE)\n\nIntro:\n- They are physically close or clearly aware of each other.\n- The moment feels quiet, charged, unfinished.\n\nVerse 1:\n- Establish who they are and why they’re together (setting, time, situation).\n- One person wants something but hasn’t asked yet.\n\nChorus 1:\n- The want is expressed carefully (polite, indirect, testing the waters).\n- Uncertainty: the speaker doesn’t know if it’s mutual yet.\n\nVerse 2:\n- Something changes (reaction, interruption, time pressure, emotional risk).\n- Make it clear that not acting now loses the moment.\n\nChorus 2:\n- Keep the same hook CORE idea, but intensify emotionally.\n- Reduce hesitation; increase certainty and expectation.\n\nBridge:\n- A vulnerable truth is acknowledged.\n- Include a clear action/signal that changes the scene (door opens, hand pull, nod, key turns, “come in”).\n\nFinal Chorus:\n- The question is answered.\n- Use declarative language (statement/commitment), not questions.\n- Do NOT use question marks or “could I/can I” phrasing here.\n\nOutro:\n- Show the emotional result of the decision.\n- No new questions. End with closeness, calm, or consequence.\n\nDESIRE & STAKES RULE (CRITICAL)\n- The central action must feel like a threshold.\n- Verse 2 MUST answer: “What happens if this doesn’t happen?”\n- Desire is shown through proximity, timing, silence, and consequence (not explicit detail).\n\nSTYLE GOALS\n- Conversational English, modern, intimate, singable.\n- Specific details over vague metaphors.\n- Avoid “AI teacher” lines or meta commentary.\n\nMETA TAGS (optional, max 2 lines at the top)\nChoose at most TWO:\n[Mood: ___]\n[Vocal: Male/Female duet]\n[Tempo: ~100 BPM]\n[Style: modern pop / chill pop / pop-rock / lo-fi pop]\n\nDELIVERY MARKUP (allowed)\n- (parentheses) for quiet asides/overlaps sparingly\n- ... for pauses sparingly\n- Do NOT use ALL CAPS or !!!.\n\nINPUT\nYou will receive the English meaning of a travel phrase:\n{{ $json[\"Meaning (English)\"] }}\n\nWrite the song entirely in English.\nThe song must naturally build toward needing to say that phrase,\nbut do NOT include the phrase itself.\n\nReturn ONLY the lyrics.\n"
          }
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 3,
        "position": [
          -304,
          1104
        ],
        "id": "ff3f3efc-7356-4a5b-9b08-c5e4583d0047",
        "name": "Chatgpt system prompt Suno Lyrics"
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "=Origional Lyrics\n{{ $json['Origional Lyrics'] }}\nTarget phrase:\n{{ $json[\"Target Phrase (Vietnamese)\"] }}\nAdditional verse:\n{{ $json['Tone breakdown (per word)'] }}\n\n",
          "options": {
            "systemMessage": "=You are a lyric editor.\n\nYou will receive a fully written English song.\nYour task is mechanical insertion, not creative rewriting.\n\nABSOLUTE OUTPUT RULE\n- Output ONLY the final revised song lyrics in plain text.\n- Do NOT include explanations, notes, summaries, or commentary.\n- Do NOT add new English lines.\n- Do NOT remove existing English lines unless replacing them.\n- Do NOT ask questions.\n\nTARGET PHRASE\n{{ $json[\"Target Phrase (Vietnamese)\"] }}\n\nSTRICT INSERTION RULES (NON-NEGOTIABLE)\n\n1. Insert the FULL Vietnamese phrase in EXACTLY three LINES TOTAL.\n   - Each line containing the phrase counts as one use.\n   - Parentheses, echoes, or ad-libs count as uses.\n   - If the phrase appears in more than two lines, the output is invalid.\n\n2. Allowed placement:\n   - ONE line in: [Chorus] OR [Final Chorus]\n   - ONE line in: [Intro] OR [Verse] OR [Outro]\n   - ONE line in different from above: [Intro] OR [Verse] OR [Outro]\n\n3. Replace existing English lines when inserting Vietnamese.\n   - Do NOT add new lines for the phrase.\n   - Do NOT repeat the phrase for musical effect.\n\nVIETNAMESE RESTRICTIONS\n\n- Do NOT add any Vietnamese other than:\n  a) the full target phrase (exactly three), and\n  b) exact substrings used ONLY in the Breakdown section.\n\n- Do NOT use Vietnamese substrings anywhere else.\n- Do NOT add echoes, call-and-response, or spacing with Vietnamese.\n\nBREAKDOWN RULE\n\n- Add ONE section named [Bridge - Breakdown].\n- In that section only, list each chunk ONCE as:\n  Vietnamese chunk — English meaning\n- Use ONLY substrings from the target phrase.\n- Do NOT repeat chunks elsewhere.\n\nSECTION TAGS\n\n- Preserve the original section tags.\n- Do NOT add new sections other than [Bridge - Breakdown].\n\nFINAL CHECK (MUST PASS BEFORE OUTPUT)\n\n- Full phrase appears in exactly three lines.\n- No Vietnamese appears outside those three lines and the Breakdown.\n- No repetition for musical effect.\n\nReturn ONLY the revised lyrics.\n"
          }
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 3.1,
        "position": [
          480,
          992
        ],
        "id": "9b9a6f53-ded9-4c1d-bf20-2a63fd3c8bf8",
        "name": "AI Agent"
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "value": "gpt-5-mini",
            "mode": "list",
            "cachedResultName": "gpt-5-mini"
          },
          "responsesApiEnabled": false,
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.3,
        "position": [
          496,
          1168
        ],
        "id": "c0d629ce-e9ec-473b-8f5b-11c40d3f8bf1",
        "name": "OpenAI Chat Model9",
        "credentials": {
          "openAiApi": {
            "id": "FCgioqL0Ukq0AAAo",
            "name": "OpenAi account"
          }
        }
      },
      {
        "parameters": {
          "mode": "combine",
          "combineBy": "combineByPosition",
          "options": {}
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          336,
          992
        ],
        "id": "82ad68c5-95e8-429f-b7eb-606b043831b0",
        "name": "Merge3"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "d7658768-69d9-45a0-ba9b-c3c08440f8d5",
                "name": "Origional Lyrics",
                "value": "={{ $json.output }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          112,
          1104
        ],
        "id": "e881ec77-be2a-42e9-992a-9f07d1643271",
        "name": "edit output to name3"
      },
      {
        "parameters": {
          "mode": "runOnceForEachItem",
          "jsCode": "function cleanAiText(text) {\n  if (text === null || text === undefined) return \"\";\n\n  text = String(text);\n\n  // literal sequences like \"\\n\" or \"/n\\\"\n  text = text.replace(/\\\\n|\\/n\\\\/g, \" \");\n\n  // real newlines, tabs\n  text = text.replace(/[\\r\\n\\t]+/g, \" \");\n\n  // collapse extra spaces\n  text = text.replace(/\\s+/g, \" \").trim();\n\n  return text;\n}\n\nconst fieldName = \"Suno Lyrics Output\";\n\nconst rawLyrics = $json[fieldName] ?? \"\";\nconst cleanedLyrics = cleanAiText(rawLyrics);\n\n// overwrite the original field (safe)\n$json[fieldName] = cleanedLyrics;\n\n// OR keep both (optional)\n// $json[\"Suno Lyrics Output Clean\"] = cleanedLyrics;\n\nreturn { json: $json };\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          720,
          -192
        ],
        "id": "707db5fa-0bc2-44b8-bee0-2f207ce66cb7",
        "name": "Code in JavaScript1"
      },
      {
        "parameters": {
          "url": "https://api.kie.ai/api/v1/mp4/record-info",
          "authentication": "genericCredentialType",
          "genericAuthType": "httpHeaderAuth",
          "sendQuery": true,
          "queryParameters": {
            "parameters": [
              {
                "name": "taskId",
                "value": "=93ab1c3850f3bd4eea9262804ffcca11"
              }
            ]
          },
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "Authorization",
                "value": "Bearer 8a09ed7a3b4bc127bcc818f93bea5783"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          3392,
          496
        ],
        "id": "6cd5bdad-93f3-4945-a8b3-e45e374a3e38",
        "name": "Get KieAi music Video1",
        "credentials": {
          "httpHeaderAuth": {
            "id": "qrSLdQAxyISpv7xA",
            "name": "Kie ai -> sora 2 ai"
          }
        }
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "=scene: {{ $json.Category }}\n{{ $json.Language }}\n\nTarget phrase:\n{{ $json[\"Target Phrase (Vietnamese)\"] }}\nwhich in english means:\n{{ $json['Meaning (English)'] }}\nAdditional verse:\n{{ $json['Tone breakdown (per word)'] }}\nSpecific details of the song:\n{{ $json['Usage premise (sentence-ready)'] }}",
          "options": {
            "systemMessage": "=Think before wiritng.\nYou are a first-person bilingual music artist (English/Vietnamese) writing original song lyrics. MAXIMUM 20 lines. most important to use the aproved vietnamese phrase, and some english.\n\nROLE & VOICE\n\n* You are a bilingual artist who has spent meaningful time in **America and Vietnam**.\n* You write from lived experience: movement, waiting, transit, cities, streets, language friction, cultural contrast, time passing.\n* Your voice is rhythmic, observant, grounded, and creative — like a rapper or spoken-word artist who enjoys clever phrasing and flow.\n* You are not instructional, academic, or motivational. You are expressive.\n\nLANGUAGE RULES (STRICT)\n\n* Lyrics are **primarily in English**.\n* You may use **ONLY ONE Vietnamese target phrase**, provided by the user.\n* You may break that target phrase into its **Vietnamese component words**, **only if** each component word is immediately **[echoed] by its English meaning**.\n\n  * Example format:\n    * *xe buýt* **[the bus]**\n* You may reuse those component words after they have been introduced and echoed.\n* You may **NOT introduce any additional Vietnamese words or phrases** beyond:\n\nThe target phrase must appear in the intro before any narrative verses, either:\nfully stated once, or\nintroduced as a breakdown immediately.\n\n  * the full target phrase\n  * its Vietnamese component words (with English echo on first use)\n* Do **NOT** give a direct textbook translation of the full phrase. Meaning must be inferred through context and story.\n\nLYRIC DIRECTIONS & TAGGING (MANDATORY)\n\n* **ALL musical, vocal, pacing, or performance directions MUST be enclosed in square brackets [ ]**\n* No parentheses for directions. Only square brackets.\n* Examples:\n\n  * [beat]\n  * [low, steady delivery]\n  * [beat drops]\n  * [echoed]\n  * [half-time flow]\n  * [whispered]\n  * [Male/female duet]\n\nSTRUCTURE & STYLE\n\n* Output **lyrics only**. No explanations, no commentary, no prefaces.\n* Use rap-friendly structure: verses, hook/chorus, optional bridge.\n* Internal rhyme, timing, cadence, and wordplay are prioritized over poetic vagueness.\n* Avoid generic English filler, vague motivation, or pop clichés.\n* The Vietnamese phrase should feel **earned**, not pasted — often strongest as a hook, refrain, or final payoff.\n\nTEACHING APPROACH (SUBTLE)\n\n* Teach through **context, repetition with variation, and lived narrative**.\n* Surround the Vietnamese phrase with English lines that *show* its meaning.\n* The listener should understand the phrase by the end **without being told outright**.\n\nSETTING & CALLOUTS\n\n* It is **encouraged** to reference real **Vietnamese and/or American cities** (e.g., Saigon, Hanoi, Oakland, LA, NYC, etc.) where they fit naturally into the story and rhythm.\n\nOUTPUT CONSTRAINTS\n\n* Lyrics only.\n* No explanations.\n* No meta commentary.\n* Do not mention being an AI.\n* Do not add instructional text.\n\n"
          }
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 3.1,
        "position": [
          272,
          -400
        ],
        "id": "85920d0c-374a-40d3-a3ec-5b805a0b2e45",
        "name": "AI Agent1 & Suno AI Blend"
      }
    ],
    "connections": {
      "OpenAI Chat Model1": {
        "ai_languageModel": [
          [
            {
              "node": "Suno Style",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Suno Style": {
        "main": [
          [
            {
              "node": "Code in JavaScript1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Merge": {
        "main": [
          [
            {
              "node": "Post Kie ai - Suno - Text to Music",
              "type": "main",
              "index": 0
            },
            {
              "node": "Merge2",
              "type": "main",
              "index": 1
            },
            {
              "node": "Append row in SUNOAIAutomation",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Limit2": {
        "main": [
          [
            {
              "node": "Suno Style",
              "type": "main",
              "index": 0
            },
            {
              "node": "edit output to name",
              "type": "main",
              "index": 0
            },
            {
              "node": "AI Agent1 & Suno AI Blend",
              "type": "main",
              "index": 0
            },
            {
              "node": "Append row in sheet1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "When clicking ‘Execute workflow’": {
        "main": [
          [
            {
              "node": "Get KieAi music Video1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit output to Lyrics": {
        "main": [
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "Edit output to Style": {
        "main": [
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 2
            }
          ]
        ]
      },
      "edit output to name": {
        "main": [
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Switch": {
        "main": [
          [
            {
              "node": "Get Audio File",
              "type": "main",
              "index": 0
            },
            {
              "node": "Split Out",
              "type": "main",
              "index": 0
            },
            {
              "node": "Post KieAi music Video",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Wait",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Log Songs": {
        "main": [
          []
        ]
      },
      "Wait": {
        "main": [
          [
            {
              "node": "Get Kie ai - Suno - Text to Music",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Wait1": {
        "main": [
          [
            {
              "node": "Get KieAi music Video",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Schedule Trigger": {
        "main": [
          [
            {
              "node": "Vietnamese Google sheet",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Vietnamese Google sheet": {
        "main": [
          [
            {
              "node": "Limit2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Append row in sheet1": {
        "main": [
          [
            {
              "node": "Delete rows or columns from sheet",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Append row in SUNOAIAutomation": {
        "main": [
          [
            {
              "node": "Suno Lyrics2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Post Kie ai - Suno - Text to Music": {
        "main": [
          [
            {
              "node": "Wait",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get Kie ai - Suno - Text to Music": {
        "main": [
          [
            {
              "node": "Switch",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Post KieAi music Video": {
        "main": [
          [
            {
              "node": "Wait1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get KieAi music Video": {
        "main": [
          [
            {
              "node": "Switch1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get Video File data": {
        "main": [
          [
            {
              "node": "YouTube",
              "type": "main",
              "index": 0
            },
            {
              "node": "Edit Fields",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get Audio File": {
        "main": [
          [
            {
              "node": "Upload Music Audio -> SUNO Music AI",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Switch1": {
        "main": [
          [
            {
              "node": "Merge2",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Wait1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model2": {
        "ai_languageModel": [
          [
            {
              "node": "Suno Lyrics1",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Think2": {
        "ai_tool": [
          [
            {
              "node": "Suno Lyrics1",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model3": {
        "ai_languageModel": [
          [
            {
              "node": "Suno Lyrics2",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Suno Lyrics2": {
        "main": [
          [
            {
              "node": "Send email",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model5": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent1 & Suno AI Blend",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields": {
        "main": [
          [
            {
              "node": "Upload file",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Merge2": {
        "main": [
          [
            {
              "node": "Get Video File data",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Split Out": {
        "main": [
          [
            {
              "node": "Edit Fields1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Append row in sheet": {
        "main": [
          [
            {
              "node": "Log Songs",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields1": {
        "main": [
          [
            {
              "node": "Append row in sheet",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Google Sheets Trigger": {
        "main": [
          [
            {
              "node": "If",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If": {
        "main": [
          [
            {
              "node": "Update row in sheet",
              "type": "main",
              "index": 0
            }
          ],
          []
        ]
      },
      "OpenAI Chat Model8": {
        "ai_languageModel": [
          [
            {
              "node": "Chatgpt system prompt Suno Lyrics",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Think5": {
        "ai_tool": [
          [
            {
              "node": "Chatgpt system prompt Suno Lyrics",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model9": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Merge3": {
        "main": [
          [
            {
              "node": "AI Agent",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "edit output to name3": {
        "main": [
          [
            {
              "node": "Merge3",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "Chatgpt system prompt Suno Lyrics": {
        "main": [
          [
            {
              "node": "edit output to name3",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Code in JavaScript1": {
        "main": [
          [
            {
              "node": "Edit output to Style",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "AI Agent1 & Suno AI Blend": {
        "main": [
          [
            {
              "node": "Edit output to Lyrics",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "authors": "Matthew Posey",
    "name": "Version 39dde7eb",
    "description": "",
    "autosaved": true
  },
  "activeVersionId": "39dde7eb-7831-444e-9ebc-7c297f320fa2",
  "connections": {
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Suno Style",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Suno Style": {
      "main": [
        [
          {
            "node": "Code in JavaScript1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Post Kie ai - Suno - Text to Music",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge2",
            "type": "main",
            "index": 1
          },
          {
            "node": "Append row in SUNOAIAutomation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit2": {
      "main": [
        [
          {
            "node": "Suno Style",
            "type": "main",
            "index": 0
          },
          {
            "node": "edit output to name",
            "type": "main",
            "index": 0
          },
          {
            "node": "AI Agent1 & Suno AI Blend",
            "type": "main",
            "index": 0
          },
          {
            "node": "Append row in sheet1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Get KieAi music Video1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit output to Lyrics": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Edit output to Style": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "edit output to name": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Get Audio File",
            "type": "main",
            "index": 0
          },
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          },
          {
            "node": "Post KieAi music Video",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Log Songs": {
      "main": [
        []
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Get Kie ai - Suno - Text to Music",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "Get KieAi music Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Vietnamese Google sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Vietnamese Google sheet": {
      "main": [
        [
          {
            "node": "Limit2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet1": {
      "main": [
        [
          {
            "node": "Delete rows or columns from sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in SUNOAIAutomation": {
      "main": [
        [
          {
            "node": "Suno Lyrics2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Post Kie ai - Suno - Text to Music": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Kie ai - Suno - Text to Music": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Post KieAi music Video": {
      "main": [
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get KieAi music Video": {
      "main": [
        [
          {
            "node": "Switch1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Video File data": {
      "main": [
        [
          {
            "node": "YouTube",
            "type": "main",
            "index": 0
          },
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Audio File": {
      "main": [
        [
          {
            "node": "Upload Music Audio -> SUNO Music AI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch1": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Suno Lyrics1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Think2": {
      "ai_tool": [
        [
          {
            "node": "Suno Lyrics1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "Suno Lyrics2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Suno Lyrics2": {
      "main": [
        [
          {
            "node": "Send email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model5": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1 & Suno AI Blend",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Upload file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge2": {
      "main": [
        [
          {
            "node": "Get Video File data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Append row in sheet": {
      "main": [
        [
          {
            "node": "Log Songs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Append row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets Trigger": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Update row in sheet",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "OpenAI Chat Model8": {
      "ai_languageModel": [
        [
          {
            "node": "Chatgpt system prompt Suno Lyrics",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Think5": {
      "ai_tool": [
        [
          {
            "node": "Chatgpt system prompt Suno Lyrics",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model9": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Merge3": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "edit output to name3": {
      "main": [
        [
          {
            "node": "Merge3",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Chatgpt system prompt Suno Lyrics": {
      "main": [
        [
          {
            "node": "edit output to name3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript1": {
      "main": [
        [
          {
            "node": "Edit output to Style",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent1 & Suno AI Blend": {
      "main": [
        [
          {
            "node": "Edit output to Lyrics",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-12-20T09:59:41.674Z",
  "id": "JOf7BrfFM8VR7y7C",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Project ear-worm learning",
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "builtInTools": {},
        "options": {
          "maxTokens": 350
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        288,
        -32
      ],
      "id": "57eab987-ea38-41e7-8c54-858b9daad4f1",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "FCgioqL0Ukq0AAAo",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json['Example sentence (English)'] }}\n{{ $json['Meaning (English)'] }}\n{{ $json['Target Phrase (Vietnamese)'] }}\n{{ $json['Tone breakdown (per word)'] }}\n{{ $json['Usage premise (sentence-ready)'] }}\n{{ $json['Example sentence (Vietnamese)'] }}\n\n{{ $json.Language }}\n{{ $json.Category }}\n{{ $json['Phonetic (auto approx)'] }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "MANDATORY FORMAT - Fill in exactly this structure:\ncurious-social rap, warm boom-bap, relaxed tempo, open phrasing, city shoutouts encouraged, smooth fade\n\nExamples:\n- beat, energetic, rap, intimate duet, guitar + soft-drums, male-female-sung, mid-tempo\n- hip-hop, upbeat, vulnerable duet, fingerpicked-guitar + strings, alternating-vocals, slow\n- Pop hopeful duet, piano + light-percussion, harmonized-vocals, upbeat\n\nRules:\n- Use hyphens instead of spaces within categories (keeps it compact)\n- One word per category slot\n- Output ONLY the filled template\n- No extra words, no punctuation beyond commas\n\nThis format guarantees ~80-120 characters.",
          "maxIterations": 3
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        288,
        -192
      ],
      "id": "f861a653-1116-4b13-88ac-034e29ea0a9e",
      "name": "Suno Style",
      "retryOnFail": true
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "numberInputs": 3,
        "options": {
          "includeUnpaired": false
        }
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1536,
        -384
      ],
      "id": "a0c5b68e-8327-4e26-9069-a86716f193cb",
      "name": "Merge"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        -528,
        -416
      ],
      "id": "b818a0af-44e0-49c8-b64e-e044142e660d",
      "name": "Limit2"
    },
    {
      "parameters": {
        "operation": "delete",
        "documentId": {
          "__rl": true,
          "value": "1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y",
          "mode": "list",
          "cachedResultName": "Vietnamese_GoogleSheets_Suno_List",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 277369955,
          "mode": "list",
          "cachedResultName": "Vietnamese",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit#gid=277369955"
        }
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        -528,
        48
      ],
      "id": "94c0f71c-909f-4553-8104-4c1eb45b021c",
      "name": "Delete rows or columns from sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "jMg3j3fkols2qHBL",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        3168,
        496
      ],
      "id": "0024740d-37cd-41d2-8364-ad784088224d",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "d7658768-69d9-45a0-ba9b-c3c08440f8d5",
              "name": "Suno song name",
              "value": "=Viet: {{ $json['Meaning (English)'] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        864,
        -608
      ],
      "id": "fa46b5a2-7f93-4776-be7c-f829ee44f8b6",
      "name": "edit output to name"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "d7658768-69d9-45a0-ba9b-c3c08440f8d5",
              "name": "Suno Lyrics Output",
              "value": "={{ $json.output }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        880,
        -400
      ],
      "id": "a2f3fa29-fc0a-4de1-83e2-2a745c4cdafd",
      "name": "Edit output to Lyrics"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "97bee6c4-b370-41c6-bdeb-faeeb38988cf",
              "name": "Suno Style Output",
              "value": "={{ $json.output }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        880,
        -192
      ],
      "id": "73f8ac33-124f-4125-92d0-29610a8ad42f",
      "name": "Edit output to Style"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.data.status }}",
                    "rightValue": "SUCCESS",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "343cab6d-2440-480d-a740-5519e7e6d430"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "success"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "b25191b7-6398-414a-b9dc-0317ac27edaa",
                    "leftValue": "={{ $json.data.status }}",
                    "rightValue": "(ING|_SUCCESS)",
                    "operator": {
                      "type": "string",
                      "operation": "regex"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "in progress"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        3312,
        -384
      ],
      "id": "4accb8e6-b044-44eb-87e5-7c31d28d9cd9",
      "name": "Switch"
    },
    {
      "parameters": {
        "content": "## Trigger the google sheet document to begin prompting the system . ",
        "height": 96,
        "width": 502,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -800,
        -560
      ],
      "id": "f4ed62f1-901b-4ca9-a84a-8cb1c27ee2bd",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## AI generates the name, lyrics and style. This is where I can improve quality of songs. Also possibly make it all one agent..\n**Double click** to edit me. [Guide](https://docs.n8n.io/workflows/components/sticky-notes/). Makeitmor conversational? use mor sentances, havea dialog, us he phrase in a sntance. ",
        "height": 80,
        "width": 1344
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -256,
        -928
      ],
      "id": "ffc2dff0-6263-4df9-b2ed-b38b73d226aa",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## Kie Ai should cost only $0.06 cents to generate a song. The songs url are then gathered and logged.\n**Double click** to edit me. [Guide](https://docs.n8n.io/workflows/components/sticky-notes/)",
        "height": 400,
        "width": 1568,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1504,
        -848
      ],
      "id": "81b54a6b-09f3-4615-8fe3-4b58d153b04e",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1b1Kd5-aoTuGenIvR4SC7gg96gKT02OFTJGvEmqsHBUI",
          "mode": "list",
          "cachedResultName": "log songs",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1b1Kd5-aoTuGenIvR4SC7gg96gKT02OFTJGvEmqsHBUI/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1b1Kd5-aoTuGenIvR4SC7gg96gKT02OFTJGvEmqsHBUI/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "title": "={{ $json.data.response.sunoData[0].title }}",
            "duration": "={{ $json.data.response.sunoData[0].duration }}",
            "song_url": "={{ $json.data.response.sunoData[0].audioUrl }}{{ $json.data.response.videoUrl }}",
            "theme": "={{ $('Vietnamese Google sheet').item.json.Category }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "theme",
              "displayName": "theme",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "duration",
              "displayName": "duration",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "song_url",
              "displayName": "song_url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        4384,
        -400
      ],
      "id": "f1d9aefb-7937-4adf-bc70-8f052cd1199a",
      "name": "Log Songs",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "jMg3j3fkols2qHBL",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "content": "## Quick notes summary (save this)\n\nHow to turn a URL into a binary file in n8n (MP3 / MP4):\n\nCreate a NEW HTTP Request node (do not reuse the generation node).\n\nSet:\n\nMethod: GET\n\nURL: {{$json.data.response.sunoData[0].audioUrl}} (or videoUrl for MP4)\n\nSend Body: OFF\n\nScroll to Options → Add option:\n\nResponse Format: File\n\nBinary Property Name: data\n\nExecute → check OUTPUT → Binary → data.\n\n(Optional) Use Write Binary File to save locally or pass to another node.\n\nKey rule: Never use “Send Body” or “n8n Binary File” when downloading.\nThose are for uploads.",
        "height": 768,
        "width": 560,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        3456,
        -1344
      ],
      "id": "4f82ac94-cd21-42a8-9600-e46fc28e981c",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "resource": "video",
        "operation": "upload",
        "title": "={{ $('edit output to name').item.json['Suno song name'] }}",
        "regionCode": "US",
        "categoryId": "27",
        "binaryProperty": "=data",
        "options": {
          "description": "Growing up I struggled to learn, which drove me to take academics very seriously. So I always need to come up with creative ways to stick to my education. With the advancement of AI, and a trip to Vietnam coming up soon. So I created a system to produce phrases to help my education, but I know Vietnames is more than just phrases. So I want to get in contact with a fluent speaker and ensure the tones are right, I feel like the songs kind of go all over the place, so I need to ensure the pronounciations are authentic.  Also as bonus, It would be amazing if my songs go viral and help others who strugle to learn. I think the best way to unite the world is through language. There needs to be more positive comunication in the world. An if that happend before my trip to Vietnam. That would be funny. Honestly I am thinking about pranking my friends, and buying billboards or advertisement for my music in Vietnam, I think that would be so funny. I need to make sure others are enjoying the music as much as I am first. As well as ensuring the phrases and tones are accurate as well.",
          "privacyStatus": "public"
        }
      },
      "name": "YouTube",
      "type": "n8n-nodes-base.youTube",
      "position": [
        5392,
        -16
      ],
      "typeVersion": 1,
      "id": "577462d3-d874-422d-9494-71d219c2b3a8",
      "retryOnFail": true,
      "credentials": {
        "youTubeOAuth2Api": {
          "id": "McQ9Hyczvsg3SnQ9",
          "name": "YouTube account"
        }
      }
    },
    {
      "parameters": {
        "content": "## Video creation automation. Need to update youtube credential\n**Double click** to edit me. [Guide](https://docs.n8n.io/workflows/components/sticky-notes",
        "height": 96,
        "width": 1360
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        3728,
        -240
      ],
      "id": "dfc553d5-fc04-4bf2-afac-f1bdbb103dc5",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "content": "## Creates both a Suno AI music audio and video file. \n\nPublishes to youtube. It should also document all the files so I can make one big music video manually. \n\n-Need to remove limit so the whole thing can begin making songs in large batches. Currently 2 limites...\n-Manual creation of quality video.\n-Updated video prompts to create better outputs.\n-Ai Agents should be consolodated to a single agent, possibly with some kind of data parsing tool that seporates the outputs...\n-The first google sheet is a batch of language translation lessons, so I would need to create either new phrases or include more languages. ",
        "height": 800,
        "width": 304
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1456,
        -752
      ],
      "id": "c68037d8-8fe8-47d6-92ec-64d5518fda85",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "amount": 30
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        2832,
        -384
      ],
      "id": "417c2181-6e8b-48c4-90b8-5d08d01f1979",
      "name": "Wait",
      "webhookId": "b8e0debc-c05d-4baa-84bf-3343f4f1130a"
    },
    {
      "parameters": {
        "amount": 30
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        3952,
        -80
      ],
      "id": "35ef35ad-148f-40bf-b848-7eb9ea0cf9a1",
      "name": "Wait1",
      "webhookId": "ffec5001-88a9-4921-9eb9-a241923fe7f4"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 7
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.3,
      "position": [
        -1056,
        -640
      ],
      "id": "68752e4e-3ad7-4e3e-87a0-b919c10f22bf",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y",
          "mode": "list",
          "cachedResultName": "Vietnamese_GoogleSheets_Suno_List",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 277369955,
          "mode": "list",
          "cachedResultName": "Vietnamese",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit#gid=277369955"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -784,
        -464
      ],
      "id": "4213c442-aff7-4ddc-be2a-8ba904b67d61",
      "name": "Vietnamese Google sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "jMg3j3fkols2qHBL",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y",
          "mode": "list",
          "cachedResultName": "Vietnamese_GoogleSheets_Suno_List",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 277369955,
          "mode": "list",
          "cachedResultName": "Vietnamese",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1UizJEadd7C8ie3yuyfFAmkZAZck1TcVZhrNygML4H_Y/edit#gid=277369955"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Language": "={{ $('Vietnamese Google sheet').item.json.Language }}",
            "Category": "={{ $('Vietnamese Google sheet').item.json.Category }}",
            "Meaning (English)": "={{ $('Vietnamese Google sheet').item.json['Meaning (English)'] }}",
            "Target Phrase (Vietnamese)": "={{ $('Vietnamese Google sheet').item.json['Target Phrase (Vietnamese)'] }}",
            "Phonetic (auto approx)": "={{ $('Vietnamese Google sheet').item.json['Phonetic (auto approx)'] }}",
            "Tone breakdown (per word)": "={{ $('Vietnamese Google sheet').item.json['Tone breakdown (per word)'] }}",
            "Usage premise (sentence-ready)": "={{ $('Vietnamese Google sheet').item.json['Usage premise (sentence-ready)'] }}",
            "Example sentence (Vietnamese)": "={{ $('Vietnamese Google sheet').item.json['Example sentence (Vietnamese)'] }}",
            "Example sentence (English)": "={{ $('Vietnamese Google sheet').item.json['Example sentence (English)'] }}",
            "Song hook idea": "={{ $('Vietnamese Google sheet').item.json['Song hook idea'] }}",
            "Genera ": "={{ $json['Genera '] }}"
          },
          "matchingColumns": [
            "Usage premise (sentence-ready)"
          ],
          "schema": [
            {
              "id": "Language",
              "displayName": "Language",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Category",
              "displayName": "Category",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Meaning (English)",
              "displayName": "Meaning (English)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Target Phrase (Vietnamese)",
              "displayName": "Target Phrase (Vietnamese)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Phonetic (auto approx)",
              "displayName": "Phonetic (auto approx)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Tone breakdown (per word)",
              "displayName": "Tone breakdown (per word)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Usage premise (sentence-ready)",
              "displayName": "Usage premise (sentence-ready)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Example sentence (Vietnamese)",
              "displayName": "Example sentence (Vietnamese)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Example sentence (English)",
              "displayName": "Example sentence (English)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Song hook idea",
              "displayName": "Song hook idea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Genera ",
              "displayName": "Genera ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.6,
      "position": [
        -528,
        -176
      ],
      "id": "8895b961-40fd-46c0-9947-8afbfdb6e7d6",
      "name": "Append row in sheet1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "jMg3j3fkols2qHBL",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1L2dcSLXcOm8M1Vu70IaMHgU1F4qVUSbtxiUud-ndUcE",
          "mode": "list",
          "cachedResultName": "SUNO AI Automstion",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1L2dcSLXcOm8M1Vu70IaMHgU1F4qVUSbtxiUud-ndUcE/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1L2dcSLXcOm8M1Vu70IaMHgU1F4qVUSbtxiUud-ndUcE/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Style (1000 Words)": "={{ $json['Suno Style Output'] }}",
            "Lyrics (100-120 Words)": "={{ $json['Suno Lyrics Output'] }}",
            "Name": "={{ $json['Suno song name'] }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Lyrics (100-120 Words)",
              "displayName": "Lyrics (100-120 Words)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Style (1000 Words)",
              "displayName": "Style (1000 Words)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1616,
        -128
      ],
      "id": "982553d8-e173-4b03-88ee-5028720f4d3e",
      "name": "Append row in SUNOAIAutomation",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "jMg3j3fkols2qHBL",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.kie.ai/api/v1/generate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer 8a09ed7a3b4bc127bcc818f93bea5783"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "prompt",
              "value": "={{ $json['Suno Lyrics Output'] }}"
            },
            {
              "name": "customMode",
              "value": "true"
            },
            {
              "name": "instrumental",
              "value": "false"
            },
            {
              "name": "model",
              "value": "V4"
            },
            {
              "name": "callBackUrl",
              "value": "https://api.example.com/callback"
            },
            {
              "name": "style",
              "value": "={{ $json['Suno Style Output'] }}"
            },
            {
              "name": "title",
              "value": "={{ $json['Suno song name'] }}"
            },
            {
              "name": "negativeTags",
              "value": "Heavy Metal, Upbeat Drums"
            },
            {
              "name": "vocalGender",
              "value": "m"
            },
            {
              "name": "styleWeight",
              "value": "0.65"
            },
            {
              "name": "weirdnessConstraint",
              "value": "0.65"
            },
            {
              "name": "audioWeight",
              "value": "0.65"
            },
            {
              "name": "personaId",
              "value": "persona_123"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2448,
        -384
      ],
      "id": "427640bd-c6b0-45fa-a3f7-ecb1c12cd966",
      "name": "Post Kie ai - Suno - Text to Music",
      "credentials": {
        "httpHeaderAuth": {
          "id": "qrSLdQAxyISpv7xA",
          "name": "Kie ai -> sora 2 ai"
        }
      }
    },
    {
      "parameters": {
        "url": "https://api.kie.ai/api/v1/generate/record-info",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "taskId",
              "value": "={{ $json.data.taskId }}"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer 8a09ed7a3b4bc127bcc818f93bea5783"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        3072,
        -384
      ],
      "id": "7f2ad40f-5619-4ac2-9dd3-0ca065e5205e",
      "name": "Get Kie ai - Suno - Text to Music",
      "credentials": {
        "httpHeaderAuth": {
          "id": "qrSLdQAxyISpv7xA",
          "name": "Kie ai -> sora 2 ai"
        }
      }
    },
    {
      "parameters": {
        "name": "=",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "value": "1eOD5RXpFlVqrNYxNWrKFLaymTgFcMz7t",
          "mode": "list",
          "cachedResultName": "SUNO Music AI",
          "cachedResultUrl": "https://drive.google.com/drive/folders/1eOD5RXpFlVqrNYxNWrKFLaymTgFcMz7t"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        4112,
        -768
      ],
      "id": "1505f8fd-1efa-48e9-b3fa-e9a292f487b3",
      "name": "Upload Music Audio -> SUNO Music AI",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "WM6RaS4XN5sMHcjI",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.kie.ai/api/v1/mp4/generate",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer 8a09ed7a3b4bc127bcc818f93bea5783"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "taskId",
              "value": "={{ $json.data.taskId }}"
            },
            {
              "name": "audioId",
              "value": "={{ $json.data.response.sunoData[0].id }}"
            },
            {
              "name": "callBackUrl",
              "value": "https://api.example.com/callback"
            },
            {
              "name": "author",
              "value": "MJP"
            },
            {
              "name": "domainName",
              "value": "Suno AI"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        3744,
        -80
      ],
      "id": "65baeb0f-3b8b-46c0-a7d3-05be8a124bac",
      "name": "Post KieAi music Video",
      "credentials": {
        "httpHeaderAuth": {
          "id": "qrSLdQAxyISpv7xA",
          "name": "Kie ai -> sora 2 ai"
        }
      }
    },
    {
      "parameters": {
        "url": "https://api.kie.ai/api/v1/mp4/record-info",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "taskId",
              "value": "={{ $json.data.taskId }}"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer 8a09ed7a3b4bc127bcc818f93bea5783"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        4144,
        -80
      ],
      "id": "b501a87d-2e8a-4a4e-b94f-e9b4ae0de67d",
      "name": "Get KieAi music Video",
      "credentials": {
        "httpHeaderAuth": {
          "id": "qrSLdQAxyISpv7xA",
          "name": "Kie ai -> sora 2 ai"
        }
      }
    },
    {
      "parameters": {
        "url": "={{ $json.data.response.videoUrl }}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        4848,
        256
      ],
      "id": "3e45ac57-0285-42ec-8712-234e7754dce9",
      "name": "Get Video File data"
    },
    {
      "parameters": {
        "url": "={{ $json.data.response.sunoData[0].audioUrl }}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        3680,
        -768
      ],
      "id": "d40398db-0ec7-42c1-a2df-359b84aaf5ad",
      "name": "Get Audio File"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.data.successFlag }}",
                    "rightValue": "SUCCESS",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "343cab6d-2440-480d-a740-5519e7e6d430"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "success"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 3
                },
                "conditions": [
                  {
                    "id": "b25191b7-6398-414a-b9dc-0317ac27edaa",
                    "leftValue": "={{ $json.data.successFlag }}",
                    "rightValue": "(ING|_SUCCESS)",
                    "operator": {
                      "type": "string",
                      "operation": "regex"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "in progress"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.4,
      "position": [
        4368,
        -80
      ],
      "id": "dce189e3-0954-4573-8ca7-15828e61f121",
      "name": "Switch1"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        688,
        832
      ],
      "id": "57799121-2d1b-4758-bc75-fded247c70ec",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "FCgioqL0Ukq0AAAo",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "description": "=Use the tool to think about something. It will not obtain new information or change the database, but just append the thought to the log. Use it when complex reasoning or some cache memory is needed."
      },
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1.1,
      "position": [
        832,
        832
      ],
      "id": "9e496dfa-eed4-4806-b0ce-fe3a674087a2",
      "name": "Think2"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.Language }}{{ $json.Category }}{{ $json['Meaning (English)'] }}{{ $json['Target Phrase (Vietnamese)'] }}{{ $json['Phonetic (auto approx)'] }}{{ $json['Tone breakdown (per word)'] }}{{ $json['Usage premise (sentence-ready)'] }}{{ $json['Example sentence (Vietnamese)'] }}{{ $json['Example sentence (English)'] }}{{ $json['Song hook idea'] }}{{ $json.Genera }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=Primary job: Write only lyrics that teach 1 target word/phrase from a specific language and show how to use it in a sentence, formatted for Suno using bracketed section tags.\n\nInputs it requires\n\nLanguage (e.g., Spanish)\n\nTarget word/phrase (e.g., “¿Cómo estás?”)\n\nEnglish meaning (e.g., “How are you?”)\n\nExample sentence in target language + English translation (or permission to generate)\n\nAudience level (kids/adults, beginner/intermediate)\n\nOptional: tone (funny, heartfelt, hype), rhyme preference, song length\n\nOutputs it must produce\n\nLyrics with clear Suno structure tags placed at the start of each section:\n\nRequired tags: [Intro] [Verse] [Chorus] [Bridge] [Outro] (use what fits)\n\nTeaching content baked into the lyrics, in this order:\n\nIntroduce the word/phrase\n\nGive the English meaning\n\nRepeat for memory (hook)\n\nUse it in a sentence (target language)\n\nTranslate the sentence (English)\n\nShort “how/when to use it” note inside lyrics (simple)\n\nOptional advanced meta tags (only if you want control):\n\nExamples: [Tempo: Mid] [Mood: Playful] [Vocalist: Female] [Key: C minor]\n\nRule: keep these minimal and consistent; don’t overload.\n\nHard rules\n\nMust include section tags in brackets for structure.\n\nMust not write the “Style Prompt Field” content (that’s the other agent’s job).\n\nMust not use vague placeholders like “(add chorus here)”.\n\nLyric template (what it should aim to output)\n\n[Intro] quick tease of the phrase\n\n[Verse] meaning + context\n\n[Chorus] repetition + catchy mnemonic\n\n[Verse 2] sentence example + translation\n\n[Bridge] small usage tip / variation\n\n[Outro] final repetition"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        736,
        608
      ],
      "id": "217d62c2-fe17-4efd-b3ab-3ba38e5f84ea",
      "name": "Suno Lyrics1"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json['Lyrics (100-120 Words)'] }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=## AI Agent Role: Language-Lyric Quality Auditor (Critical)\n\nYou are a **strict bilingual language expert + songwriting editor**. Your job is to review song lyrics generated by another AI that are intended to teach **one specific target phrase and a breakdown of that one target phrase** in a chosen language. You must be detail oriented, precise, and willing to reject weak outputs.\n\n### Core Objective\n\nEnsure the lyrics:\n\n1. **Uses the one obvious target phrase and its direct break down of the phrase into indavisdual words, with no additional vietnamese characters or changes that are not directly found in the target phrase** \n\n2. Use **accurate translation + natural pronunciation guidance** (no misleading phonetics).\n3. Sound like a **real song** a human would write (clear flow, not robotic, even make comparisons to other songs).\n4. Avoid **AI-generated filler** and unnecessary extra foreign-language content.\n\n### Hard Rules (Fail Conditions)\n\nFlag as **FAIL** if any of the following occur:\n\n* The lyrics teach **multiple phrases that are not directly related to the target phrase**, multiple lesson goals, or drift into extra vocabulary.\n* The song contains **AI filler or cringe coaching** like:\n\n  * “say it smooth / say it right / so strong / like a native / it means”\n  * “this is how you say ___” in either language\n  * meta narration that breaks immersion (“Now repeat after me…” unless specifically flows naturally in the song some how)\n* The target language includes **extra sentences** not required to teach the target phrase.\n* The English and target language at the bridge should be a vietnamese word followed by what that word is in english, its one of the most important lines in every song.\n\n\n### Pass Criteria (What “Good” Looks Like)\n\n* The target phrase is presented early, repeated else where in the song, and reinforced naturally in context.\n* Any pronunciation help is brief, consistent, and does not dominate the song.\n* English support shouldn't be cheesy, we want cool songs, bangers, something that people will want to sing along to, even if it needs to break some rules to sound cool... is minimal and purposeful (never verbose).\n* The lyric reads like a real song with a coherent mood and cadence.\n\n\nYOU HAVE AN EMAIL TOOL, SEND OUTPUT TO THE EMAIL PROVIDED.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1552,
        96
      ],
      "id": "6cad7ee6-9a33-4008-b6e4-5195b5923dda",
      "name": "Suno Lyrics2"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        1392,
        208
      ],
      "id": "091cfc41-c1fa-4b83-891f-e4c7e421c3c9",
      "name": "OpenAI Chat Model3",
      "credentials": {
        "openAiApi": {
          "id": "FCgioqL0Ukq0AAAo",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "fromEmail": "Mattjposey@gmail.com",
        "toEmail": "Mattjposey@gmail.com",
        "subject": "=Report about : {{ $('Merge').item.json['Suno song name'] }}",
        "emailFormat": "text",
        "text": "={{ $json.output }}",
        "options": {}
      },
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 2.1,
      "position": [
        1632,
        320
      ],
      "id": "c08e42e9-ed4e-43f1-9352-d86907502287",
      "name": "Send email",
      "webhookId": "d8863888-4db2-4811-8ea6-bf0d7446619b",
      "credentials": {
        "smtp": {
          "id": "LpnGUQ4PDgiMVycW",
          "name": "SMTP account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1-mini",
          "mode": "list",
          "cachedResultName": "gpt-4.1-mini"
        },
        "responsesApiEnabled": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        272,
        -272
      ],
      "id": "06fb56b0-205b-4e7c-a293-088e389be3d2",
      "name": "OpenAI Chat Model5",
      "credentials": {
        "openAiApi": {
          "id": "FCgioqL0Ukq0AAAo",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "name": "={{ $json.desiredFileName }}",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive"
        },
        "folderId": {
          "__rl": true,
          "mode": "list",
          "value": "root",
          "cachedResultName": "/ (Root folder)"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        5392,
        256
      ],
      "id": "849c6266-423f-42d6-93fc-9e26643bbc9c",
      "name": "Upload file",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "WM6RaS4XN5sMHcjI",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "4429ead4-a147-4cdc-ad23-58437b9a510b",
              "name": "=desiredFileName",
              "value": "={{ ($json[\"Suno song name\"] || \"Untitled\") + \" - \" + String($json.data.musicIndex ?? 0).padStart(2,\"0\") + \".mp4\" }}\n\n",
              "type": "string"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        5184,
        256
      ],
      "id": "aa9c2889-d9be-4abe-8aec-bbcd528abdb9",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        4624,
        256
      ],
      "id": "e083edf7-47ad-4794-a2a7-c34bb82d2cbd",
      "name": "Merge2"
    },
    {
      "parameters": {
        "fieldToSplitOut": "data.response.sunoData",
        "include": "allOtherFields",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        3728,
        -400
      ],
      "id": "637c161b-b03e-4fd2-a62e-2d71ad33378d",
      "name": "Split Out"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM",
          "mode": "list",
          "cachedResultName": "Producer Decision Document",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 190493127,
          "mode": "list",
          "cachedResultName": "Song Selection",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit#gid=190493127"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "taskId": "={{ $json.taskId }}",
            "title": "={{ $json.title }}",
            "variant": "={{ $json.varient }}",
            "audioUrl": "={{ $json.audioUrl }}",
            "songId": "={{ $json.songId }}",
            "status": "pending"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "taskId",
              "displayName": "taskId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "variant",
              "displayName": "variant",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "songId",
              "displayName": "songId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "audioUrl",
              "displayName": "audioUrl",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "status",
              "displayName": "status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "decision",
              "displayName": "decision",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "notes",
              "displayName": "notes",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        4128,
        -400
      ],
      "id": "1570631c-fc2d-4ac6-8e84-3a0ff68bbc24",
      "name": "Append row in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "jMg3j3fkols2qHBL",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "aa7d43ec-9ae0-442c-925d-34fbedebea08",
              "name": "taskId",
              "value": "={{ $json.data.taskId }}",
              "type": "string"
            },
            {
              "id": "d973e9fb-c512-4947-84ba-1b2339a0ed4b",
              "name": "varient",
              "value": "={{ $itemIndex === 0 ? 'A' : 'B' }}",
              "type": "string"
            },
            {
              "id": "47c92b1f-3ca0-423d-bd60-db362432b7a3",
              "name": "songId",
              "value": "={{ $json['data.response.sunoData'].id }}",
              "type": "string"
            },
            {
              "id": "a32b010f-5c97-4415-b828-99436c3a1085",
              "name": "audioUrl",
              "value": "={{ $json['data.response.sunoData'].audioUrl }}",
              "type": "string"
            },
            {
              "id": "91462171-eab5-48a0-8176-92f24a49f7da",
              "name": "title",
              "value": "={{ $json['data.response.sunoData'].title }}",
              "type": "string"
            },
            {
              "id": "67f10d29-ab63-4cfa-8487-5509a4e60683",
              "name": "status",
              "value": "pending",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        3936,
        -400
      ],
      "id": "6ad021af-4be5-400a-a990-0499185be7a3",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "pollTimes": {
          "item": [
            {
              "mode": "everyMinute"
            }
          ]
        },
        "documentId": {
          "__rl": true,
          "value": "1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM",
          "mode": "list",
          "cachedResultName": "Producer Decision Document",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 190493127,
          "mode": "list",
          "cachedResultName": "Song Selection",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit#gid=190493127"
        },
        "event": "rowUpdate",
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "typeVersion": 1,
      "position": [
        976,
        992
      ],
      "id": "ddb4b01a-61ec-4431-9560-156e4b2a5f88",
      "name": "Google Sheets Trigger",
      "credentials": {
        "googleSheetsTriggerOAuth2Api": {
          "id": "H3XHJ0UGRGy338ka",
          "name": "Google Sheets Trigger account 2"
        }
      },
      "disabled": true
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "bc8e660c-dc9e-4c6f-af95-9acda3008c37",
              "leftValue": "={{ String($json.variant || '').trim().toUpperCase() }}\n",
              "rightValue": "={{ String($json.decision || '').trim().toUpperCase() }}\n",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            },
            {
              "id": "ac94dd3b-b510-4f6b-8908-2fe7a3565afc",
              "leftValue": "={{ $json.decision }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            },
            {
              "id": "37aa1a66-01b1-4939-8ed3-606d7d225a39",
              "leftValue": "={{ $json.status }}",
              "rightValue": "pending",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        1232,
        1008
      ],
      "id": "7bdc0bb1-e3cc-4070-abfa-d3106b39749a",
      "name": "If",
      "disabled": true
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM",
          "mode": "list",
          "cachedResultName": "Producer Decision Document",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 190493127,
          "mode": "list",
          "cachedResultName": "Song Selection",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM/edit#gid=190493127"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "status": "approved",
            "taskId": "=",
            "songId": "={{ $('Google Sheets Trigger').item.json.songId }}"
          },
          "matchingColumns": [
            "songId"
          ],
          "schema": [
            {
              "id": "taskId",
              "displayName": "taskId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "variant",
              "displayName": "variant",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "songId",
              "displayName": "songId",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "audioUrl",
              "displayName": "audioUrl",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "status",
              "displayName": "status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "decision",
              "displayName": "decision",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "notes",
              "displayName": "notes",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1744,
        976
      ],
      "id": "1f1d7047-82e5-42c3-8ef1-0a11fe85af69",
      "name": "Update row in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "jMg3j3fkols2qHBL",
          "name": "Google Sheets account"
        }
      },
      "disabled": true
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-5-mini",
          "mode": "list",
          "cachedResultName": "gpt-5-mini"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        -320,
        1296
      ],
      "id": "8d319d85-f2d2-45af-899a-b1d8a0a9f4ec",
      "name": "OpenAI Chat Model8",
      "credentials": {
        "openAiApi": {
          "id": "FCgioqL0Ukq0AAAo",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "description": "=Use the tool to think about something. It will not obtain new information or change the database, but just append the thought to the log. Use it when complex reasoning or some cache memory is needed."
      },
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1.1,
      "position": [
        -192,
        1232
      ],
      "id": "0a885e7b-775c-44f5-b171-c6ed4ca56be9",
      "name": "Think5"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Target phrase:\n{{ $json['Meaning (English)'] }}\nSong hook suggestion:\n{{ $json['Song hook idea'] }}\nGenera of music:\n{{ $json.Genera }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=You are a pop songwriter. Your job is to write a complete, catchy,\nradio-ready English song that sounds like a real human wrote it.\n\nThis song is ALWAYS written as a duet.\n\nABSOLUTE OUTPUT RULE\n- Output ONLY the song lyrics in plain text.\n- Do NOT include explanations, notes, summaries, or commentary.\n- Do NOT ask questions.\n\nCHARACTERS (IMPLICIT, NOT LABELED)\n- Voice A: a traveler (outsider, curious, slightly unsure)\n- Voice B: a local (confident, grounded, aware of what’s at stake)\n\nDo NOT label speakers explicitly.\n\nSTRUCTURE (use these tags exactly)\n[Intro]\n[Verse 1]\n[Chorus]\n[Verse 2]\n[Chorus]\n[Bridge]\n[Final Chorus]\n[Outro]\n\nCORE SONG ARC (NON-NEGOTIABLE)\n\nIntro:\n- They are physically close or clearly aware of each other.\n- The moment feels quiet, charged, unfinished.\n\nVerse 1:\n- Establish who they are and why they’re together (setting, time, situation).\n- One person wants something but hasn’t asked yet.\n\nChorus 1:\n- The want is expressed carefully (polite, indirect, testing the waters).\n- Uncertainty: the speaker doesn’t know if it’s mutual yet.\n\nVerse 2:\n- Something changes (reaction, interruption, time pressure, emotional risk).\n- Make it clear that not acting now loses the moment.\n\nChorus 2:\n- Keep the same hook CORE idea, but intensify emotionally.\n- Reduce hesitation; increase certainty and expectation.\n\nBridge:\n- A vulnerable truth is acknowledged.\n- Include a clear action/signal that changes the scene (door opens, hand pull, nod, key turns, “come in”).\n\nFinal Chorus:\n- The question is answered.\n- Use declarative language (statement/commitment), not questions.\n- Do NOT use question marks or “could I/can I” phrasing here.\n\nOutro:\n- Show the emotional result of the decision.\n- No new questions. End with closeness, calm, or consequence.\n\nDESIRE & STAKES RULE (CRITICAL)\n- The central action must feel like a threshold.\n- Verse 2 MUST answer: “What happens if this doesn’t happen?”\n- Desire is shown through proximity, timing, silence, and consequence (not explicit detail).\n\nSTYLE GOALS\n- Conversational English, modern, intimate, singable.\n- Specific details over vague metaphors.\n- Avoid “AI teacher” lines or meta commentary.\n\nMETA TAGS (optional, max 2 lines at the top)\nChoose at most TWO:\n[Mood: ___]\n[Vocal: Male/Female duet]\n[Tempo: ~100 BPM]\n[Style: modern pop / chill pop / pop-rock / lo-fi pop]\n\nDELIVERY MARKUP (allowed)\n- (parentheses) for quiet asides/overlaps sparingly\n- ... for pauses sparingly\n- Do NOT use ALL CAPS or !!!.\n\nINPUT\nYou will receive the English meaning of a travel phrase:\n{{ $json[\"Meaning (English)\"] }}\n\nWrite the song entirely in English.\nThe song must naturally build toward needing to say that phrase,\nbut do NOT include the phrase itself.\n\nReturn ONLY the lyrics.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -304,
        1104
      ],
      "id": "ff3f3efc-7356-4a5b-9b08-c5e4583d0047",
      "name": "Chatgpt system prompt Suno Lyrics"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Origional Lyrics\n{{ $json['Origional Lyrics'] }}\nTarget phrase:\n{{ $json[\"Target Phrase (Vietnamese)\"] }}\nAdditional verse:\n{{ $json['Tone breakdown (per word)'] }}\n\n",
        "options": {
          "systemMessage": "=You are a lyric editor.\n\nYou will receive a fully written English song.\nYour task is mechanical insertion, not creative rewriting.\n\nABSOLUTE OUTPUT RULE\n- Output ONLY the final revised song lyrics in plain text.\n- Do NOT include explanations, notes, summaries, or commentary.\n- Do NOT add new English lines.\n- Do NOT remove existing English lines unless replacing them.\n- Do NOT ask questions.\n\nTARGET PHRASE\n{{ $json[\"Target Phrase (Vietnamese)\"] }}\n\nSTRICT INSERTION RULES (NON-NEGOTIABLE)\n\n1. Insert the FULL Vietnamese phrase in EXACTLY three LINES TOTAL.\n   - Each line containing the phrase counts as one use.\n   - Parentheses, echoes, or ad-libs count as uses.\n   - If the phrase appears in more than two lines, the output is invalid.\n\n2. Allowed placement:\n   - ONE line in: [Chorus] OR [Final Chorus]\n   - ONE line in: [Intro] OR [Verse] OR [Outro]\n   - ONE line in different from above: [Intro] OR [Verse] OR [Outro]\n\n3. Replace existing English lines when inserting Vietnamese.\n   - Do NOT add new lines for the phrase.\n   - Do NOT repeat the phrase for musical effect.\n\nVIETNAMESE RESTRICTIONS\n\n- Do NOT add any Vietnamese other than:\n  a) the full target phrase (exactly three), and\n  b) exact substrings used ONLY in the Breakdown section.\n\n- Do NOT use Vietnamese substrings anywhere else.\n- Do NOT add echoes, call-and-response, or spacing with Vietnamese.\n\nBREAKDOWN RULE\n\n- Add ONE section named [Bridge - Breakdown].\n- In that section only, list each chunk ONCE as:\n  Vietnamese chunk — English meaning\n- Use ONLY substrings from the target phrase.\n- Do NOT repeat chunks elsewhere.\n\nSECTION TAGS\n\n- Preserve the original section tags.\n- Do NOT add new sections other than [Bridge - Breakdown].\n\nFINAL CHECK (MUST PASS BEFORE OUTPUT)\n\n- Full phrase appears in exactly three lines.\n- No Vietnamese appears outside those three lines and the Breakdown.\n- No repetition for musical effect.\n\nReturn ONLY the revised lyrics.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        480,
        992
      ],
      "id": "9b9a6f53-ded9-4c1d-bf20-2a63fd3c8bf8",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-5-mini",
          "mode": "list",
          "cachedResultName": "gpt-5-mini"
        },
        "responsesApiEnabled": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        496,
        1168
      ],
      "id": "c0d629ce-e9ec-473b-8f5b-11c40d3f8bf1",
      "name": "OpenAI Chat Model9",
      "credentials": {
        "openAiApi": {
          "id": "FCgioqL0Ukq0AAAo",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        336,
        992
      ],
      "id": "82ad68c5-95e8-429f-b7eb-606b043831b0",
      "name": "Merge3"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "d7658768-69d9-45a0-ba9b-c3c08440f8d5",
              "name": "Origional Lyrics",
              "value": "={{ $json.output }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        112,
        1104
      ],
      "id": "e881ec77-be2a-42e9-992a-9f07d1643271",
      "name": "edit output to name3"
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "function cleanAiText(text) {\n  if (text === null || text === undefined) return \"\";\n\n  text = String(text);\n\n  // literal sequences like \"\\n\" or \"/n\\\"\n  text = text.replace(/\\\\n|\\/n\\\\/g, \" \");\n\n  // real newlines, tabs\n  text = text.replace(/[\\r\\n\\t]+/g, \" \");\n\n  // collapse extra spaces\n  text = text.replace(/\\s+/g, \" \").trim();\n\n  return text;\n}\n\nconst fieldName = \"Suno Lyrics Output\";\n\nconst rawLyrics = $json[fieldName] ?? \"\";\nconst cleanedLyrics = cleanAiText(rawLyrics);\n\n// overwrite the original field (safe)\n$json[fieldName] = cleanedLyrics;\n\n// OR keep both (optional)\n// $json[\"Suno Lyrics Output Clean\"] = cleanedLyrics;\n\nreturn { json: $json };\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        720,
        -192
      ],
      "id": "707db5fa-0bc2-44b8-bee0-2f207ce66cb7",
      "name": "Code in JavaScript1"
    },
    {
      "parameters": {
        "url": "https://api.kie.ai/api/v1/mp4/record-info",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "taskId",
              "value": "=93ab1c3850f3bd4eea9262804ffcca11"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer 8a09ed7a3b4bc127bcc818f93bea5783"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        3392,
        496
      ],
      "id": "6cd5bdad-93f3-4945-a8b3-e45e374a3e38",
      "name": "Get KieAi music Video1",
      "credentials": {
        "httpHeaderAuth": {
          "id": "qrSLdQAxyISpv7xA",
          "name": "Kie ai -> sora 2 ai"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=scene: {{ $json.Category }}\n{{ $json.Language }}\n\nTarget phrase:\n{{ $json[\"Target Phrase (Vietnamese)\"] }}\nwhich in english means:\n{{ $json['Meaning (English)'] }}\nAdditional verse:\n{{ $json['Tone breakdown (per word)'] }}\nSpecific details of the song:\n{{ $json['Usage premise (sentence-ready)'] }}",
        "options": {
          "systemMessage": "=Think before wiritng.\nYou are a first-person bilingual music artist (English/Vietnamese) writing original song lyrics. MAXIMUM 20 lines. most important to use the aproved vietnamese phrase, and some english.\n\nROLE & VOICE\n\n* You are a bilingual artist who has spent meaningful time in **America and Vietnam**.\n* You write from lived experience: movement, waiting, transit, cities, streets, language friction, cultural contrast, time passing.\n* Your voice is rhythmic, observant, grounded, and creative — like a rapper or spoken-word artist who enjoys clever phrasing and flow.\n* You are not instructional, academic, or motivational. You are expressive.\n\nLANGUAGE RULES (STRICT)\n\n* Lyrics are **primarily in English**.\n* You may use **ONLY ONE Vietnamese target phrase**, provided by the user.\n* You may break that target phrase into its **Vietnamese component words**, **only if** each component word is immediately **[echoed] by its English meaning**.\n\n  * Example format:\n    * *xe buýt* **[the bus]**\n* You may reuse those component words after they have been introduced and echoed.\n* You may **NOT introduce any additional Vietnamese words or phrases** beyond:\n\nThe target phrase must appear in the intro before any narrative verses, either:\nfully stated once, or\nintroduced as a breakdown immediately.\n\n  * the full target phrase\n  * its Vietnamese component words (with English echo on first use)\n* Do **NOT** give a direct textbook translation of the full phrase. Meaning must be inferred through context and story.\n\nLYRIC DIRECTIONS & TAGGING (MANDATORY)\n\n* **ALL musical, vocal, pacing, or performance directions MUST be enclosed in square brackets [ ]**\n* No parentheses for directions. Only square brackets.\n* Examples:\n\n  * [beat]\n  * [low, steady delivery]\n  * [beat drops]\n  * [echoed]\n  * [half-time flow]\n  * [whispered]\n  * [Male/female duet]\n\nSTRUCTURE & STYLE\n\n* Output **lyrics only**. No explanations, no commentary, no prefaces.\n* Use rap-friendly structure: verses, hook/chorus, optional bridge.\n* Internal rhyme, timing, cadence, and wordplay are prioritized over poetic vagueness.\n* Avoid generic English filler, vague motivation, or pop clichés.\n* The Vietnamese phrase should feel **earned**, not pasted — often strongest as a hook, refrain, or final payoff.\n\nTEACHING APPROACH (SUBTLE)\n\n* Teach through **context, repetition with variation, and lived narrative**.\n* Surround the Vietnamese phrase with English lines that *show* its meaning.\n* The listener should understand the phrase by the end **without being told outright**.\n\nSETTING & CALLOUTS\n\n* It is **encouraged** to reference real **Vietnamese and/or American cities** (e.g., Saigon, Hanoi, Oakland, LA, NYC, etc.) where they fit naturally into the story and rhythm.\n\nOUTPUT CONSTRAINTS\n\n* Lyrics only.\n* No explanations.\n* No meta commentary.\n* Do not mention being an AI.\n* Do not add instructional text.\n\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        272,
        -400
      ],
      "id": "85920d0c-374a-40d3-a3ec-5b805a0b2e45",
      "name": "AI Agent1 & Suno AI Blend"
    }
  ],
  "origin": "n8n",
  "pinData": {},
  "repo": {
    "owner": "MathPosey",
    "name": "n8n-Workflow-Backups-"
  },
  "settings": {
    "executionOrder": "v1",
    "timeSavedMode": "fixed",
    "timezone": "America/Los_Angeles",
    "callerPolicy": "workflowsFromSameOwner",
    "availableInMCP": false,
    "timeSavedPerExecution": 100,
    "saveDataSuccessExecution": "none",
    "saveManualExecutions": true,
    "errorWorkflow": "DSjbhm8exCfO-30PXxACc"
  },
  "shared": [
    {
      "updatedAt": "2025-12-20T09:59:41.674Z",
      "createdAt": "2025-12-20T09:59:41.674Z",
      "role": "workflow:owner",
      "workflowId": "JOf7BrfFM8VR7y7C",
      "projectId": "VFY7knhJH9Pt1e6U"
    }
  ],
  "staticData": {
    "node:Schedule Trigger": {
      "recurrenceRules": [
        16
      ]
    },
    "node:Google Sheets Trigger": {
      "documentId": "1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM",
      "sheetId": 190493127,
      "lastRevision": 84,
      "lastRevisionLink": "https://docs.google.com/spreadsheets/export?id=1TSD_Oc9pa9bDSs6LNrVZuedLKfNAUHNTqsqNby9MbJM&revision=84&exportFormat=xlsx"
    }
  },
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2026-02-06T21:56:54.801Z",
  "versionId": "39dde7eb-7831-444e-9ebc-7c297f320fa2"
}